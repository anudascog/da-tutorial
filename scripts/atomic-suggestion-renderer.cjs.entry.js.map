{"file":"atomic-suggestion-renderer.entry.cjs.js","mappings":"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","names":["h","Fragment","isMacOS","Host"],"sources":["src/components/common/atomic-suggestion-renderer/atomic-suggestion-renderer.tsx"],"sourcesContent":["import {isMacOS} from '@/src/utils/device-utils';\nimport {Component, Fragment, Host, Prop, VNode, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {SearchBoxSuggestionElement} from '../suggestions/suggestions-common';\n\n/**\n * The `atomic-suggestion-renderer` component is used to render individual suggestions. It was created to isolate\n * the rendering logic of the 'content' property of the `SearchBoxSuggestionElement` interface. This property can be Stencil\n * VNode or native Element so there must be a Stencil component to render it. For Lit components using this component, they will\n * use native Elements.\n *\n * @internal\n */\n@Component({\n  tag: 'atomic-suggestion-renderer',\n  shadow: false,\n})\nexport class AtomicSuggestionRenderer {\n  @Prop() public i18n!: i18n;\n  @Prop() public id!: string;\n  @Prop() public suggestion!: SearchBoxSuggestionElement;\n  @Prop() public isSelected!: boolean;\n  @Prop() public side!: 'left' | 'right';\n  @Prop() public index!: number;\n  @Prop() public lastIndex!: number;\n  @Prop() public isDoubleList!: boolean;\n  @Prop() public onClick?: (e: Event) => void;\n  @Prop() public onMouseOver?: (e: Event) => void;\n\n  private get parts() {\n    let part = 'suggestion';\n    if (this.isSelected) {\n      part += ' active-suggestion';\n    }\n    if (this.suggestion.query) {\n      part += ' suggestion-with-query';\n    }\n    if (this.suggestion.part) {\n      part += ` ${this.suggestion.part}`;\n    }\n    return part;\n  }\n\n  private get classes() {\n    return `flex px-4 min-h-10 items-center text-left text-neutral-dark cursor-pointer ${\n      this.isSelected ? 'bg-neutral-light' : ''\n    }`;\n  }\n\n  private get content() {\n    return this.isHTMLElement(this.suggestion.content) ? (\n      <Fragment></Fragment>\n    ) : (\n      this.suggestion.content\n    );\n  }\n\n  private ariaLabel(isButton: boolean) {\n    const contentLabel =\n      this.suggestion.ariaLabel ??\n      this.suggestion.query ??\n      this.i18n.t('no-title');\n\n    const labelWithType =\n      isMacOS() && isButton\n        ? this.i18n.t('search-suggestion-button', {\n            label: contentLabel,\n            interpolation: {escapeValue: false},\n          })\n        : contentLabel;\n\n    const position = this.index + 1;\n    const count = this.lastIndex + 1;\n\n    if (!this.isDoubleList) {\n      return this.i18n.t('search-suggestion-single-list', {\n        label: labelWithType,\n        position,\n        count,\n        interpolation: {escapeValue: false},\n      });\n    }\n\n    return this.i18n.t('search-suggestion-double-list', {\n      label: labelWithType,\n      position,\n      count,\n      side: this.i18n.t(this.side === 'left' ? 'left' : 'right'),\n      interpolation: {escapeValue: false},\n    });\n  }\n\n  private ensureContentForRenderedSuggestion(element: HTMLElement) {\n    if (this.isHTMLElement(this.suggestion.content)) {\n      element.replaceChildren(this.suggestion.content);\n    }\n  }\n\n  private isHTMLElement(el: VNode | Element): el is HTMLElement {\n    return el instanceof HTMLElement;\n  }\n\n  render() {\n    const isButton = !!(this.suggestion.onSelect || this.suggestion.query);\n\n    return (\n      <Host class=\"contents\">\n        {isButton ? (\n          <button\n            id={this.id}\n            key={this.suggestion.key}\n            part={this.parts}\n            class={this.classes}\n            onMouseDown={(e) => e.preventDefault()}\n            onClick={(e: Event) => this.onClick?.(e)}\n            onMouseOver={(e: Event) => this.onMouseOver?.(e)}\n            data-query={this.suggestion.query}\n            aria-label={this.ariaLabel(isButton)}\n            ref={(el) => {\n              if (!el) {\n                return;\n              }\n              this.ensureContentForRenderedSuggestion(el);\n            }}\n          >\n            {this.content}\n          </button>\n        ) : (\n          <span\n            id={this.id}\n            key={this.suggestion.key}\n            part={this.parts}\n            class={this.classes}\n            aria-label={this.ariaLabel(isButton)}\n            ref={(el) => {\n              if (!el) {\n                return;\n              }\n              this.ensureContentForRenderedSuggestion(el);\n            }}\n          >\n            {this.content}\n          </span>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}