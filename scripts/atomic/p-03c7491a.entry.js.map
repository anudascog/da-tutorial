{"version":3,"names":["Cancel","i18n","onClick","h","Button","style","part","text","t","class","atomicNoResultsCss","AtomicNoResultsStyle0","AtomicNoResults","this","enableCancelLastAction","initialize","searchStatus","buildSearchStatus","bindings","engine","history","buildHistoryManager","querySummary","buildQuerySummary","render","ariaMessage","getSummary","querySummaryState","query","searchStatusState","hasResults","NoItemsGuard","key","NoItemsContainer","MagnifyingGlass","NoItems","i18nKey","SearchTips","historyState","past","length","backOnNoResults","__decorate","InitializeBindings","BindStateToController","AriaLiveRegion"],"sources":["src/components/common/no-items/cancel.tsx","src/components/search/atomic-no-results/atomic-no-results.pcss?tag=atomic-no-results&encapsulation=shadow","src/components/search/atomic-no-results/atomic-no-results.tsx"],"sourcesContent":["import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {Button} from '../stencil-button';\n\ninterface CancelProps {\n  i18n: i18n;\n  onClick: () => void;\n}\nexport const Cancel: FunctionalComponent<CancelProps> = ({i18n, onClick}) => {\n  return (\n    <Button\n      style=\"primary\"\n      part=\"cancel-button\"\n      text={i18n.t('cancel-last-action')}\n      onClick={() => onClick()}\n      class=\"my-3 px-2.5 py-3 font-bold\"\n    ></Button>\n  );\n};\n","@import '../../../global/global.pcss';\n","import {\n  buildHistoryManager,\n  HistoryManager,\n  HistoryManagerState,\n  buildSearchStatus,\n  SearchStatus,\n  SearchStatusState,\n  QuerySummary,\n  QuerySummaryState,\n  buildQuerySummary,\n} from '@coveo/headless';\nimport {Component, h, Prop, State} from '@stencil/core';\nimport {\n  BindStateToController,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {AriaLiveRegion} from '../../../utils/stencil-accessibility-utils';\nimport {Cancel} from '../../common/no-items/cancel';\nimport {NoItemsContainer} from '../../common/no-items/container';\nimport {NoItemsGuard} from '../../common/no-items/guard';\nimport {MagnifyingGlass} from '../../common/no-items/magnifying-glass';\nimport {NoItems} from '../../common/no-items/no-items';\nimport {SearchTips} from '../../common/no-items/tips';\nimport {getSummary} from '../../common/no-items/utils';\nimport {Bindings} from '../atomic-search-interface/atomic-search-interface';\n\n/**\n * The `atomic-no-results` component displays search tips and a \"Cancel last action\" button when there are no results. Any additional content slotted inside of its element will be displayed as well.\n *\n * @part cancel-button - The \"Cancel last action\" button.\n * @part no-results - The text indicating that no results were found for the search.\n * @part search-tips - The search tips to help the user correct the query.\n * @part highlight - The highlighted query.\n * @part icon - The magnifying glass icon.\n */\n@Component({\n  tag: 'atomic-no-results',\n  styleUrl: 'atomic-no-results.pcss',\n  shadow: true,\n})\nexport class AtomicNoResults {\n  @InitializeBindings() public bindings!: Bindings;\n  public searchStatus!: SearchStatus;\n  public history!: HistoryManager;\n  public querySummary!: QuerySummary;\n\n  @BindStateToController('searchStatus')\n  @State()\n  private searchStatusState!: SearchStatusState;\n  @BindStateToController('history')\n  @State()\n  private historyState!: HistoryManagerState;\n  @BindStateToController('querySummary')\n  @State()\n  private querySummaryState!: QuerySummaryState;\n  @State() public error!: Error;\n\n  @AriaLiveRegion('no-results')\n  protected ariaMessage!: string;\n\n  /**\n   * Whether to display a button which cancels the last available action.\n   */\n  @Prop({reflect: true}) enableCancelLastAction = true;\n\n  public initialize() {\n    this.searchStatus = buildSearchStatus(this.bindings.engine);\n    this.history = buildHistoryManager(this.bindings.engine);\n    this.querySummary = buildQuerySummary(this.bindings.engine);\n  }\n\n  public render() {\n    const {\n      bindings: {i18n},\n    } = this;\n    this.ariaMessage = getSummary(\n      i18n,\n      this.querySummaryState.query,\n      this.searchStatusState.hasResults,\n      'no-results'\n    );\n\n    return (\n      <NoItemsGuard {...this.searchStatusState}>\n        <NoItemsContainer>\n          <MagnifyingGlass />\n          <NoItems\n            query={this.querySummaryState.query}\n            i18n={i18n}\n            i18nKey=\"no-results\"\n          />\n          <SearchTips i18n={i18n} />\n          {this.enableCancelLastAction && this.historyState.past.length ? (\n            <Cancel\n              i18n={i18n}\n              onClick={() => this.history.backOnNoResults()}\n            />\n          ) : null}\n        </NoItemsContainer>\n      </NoItemsGuard>\n    );\n  }\n}\n"],"mappings":"8mBAQO,MAAMA,EAA2C,EAAEC,OAAMC,aAE5DC,EAACC,EAAM,CACLC,MAAM,UACNC,KAAK,gBACLC,KAAMN,EAAKO,EAAE,sBACbN,QAAS,IAAMA,IACfO,MAAM,+BCfZ,MAAMC,EAAqB,k60DAC3B,MAAAC,EAAeD,E,iXCuCFE,EAAe,M,yBAuBHC,KAAAC,uBAAyB,K,+IAAA,I,CAEzC,UAAAC,GACLF,KAAKG,aAAeC,EAAkBJ,KAAKK,SAASC,QACpDN,KAAKO,QAAUC,EAAoBR,KAAKK,SAASC,QACjDN,KAAKS,aAAeC,EAAkBV,KAAKK,SAASC,O,CAG/C,MAAAK,GACL,MACEN,UAAUjB,KAACA,IACTY,KACJA,KAAKY,YAAcC,EACjBzB,EACAY,KAAKc,kBAAkBC,MACvBf,KAAKgB,kBAAkBC,WACvB,cAGF,OACE3B,EAAC4B,EAAY,CAAAC,IAAA,8CAAKnB,KAAKgB,mBACrB1B,EAAC8B,EAAgB,CAAAD,IAAA,4CACf7B,EAAC+B,EAAe,CAAAF,IAAA,6CAChB7B,EAACgC,EAAO,CAAAH,IAAA,2CACNJ,MAAOf,KAAKc,kBAAkBC,MAC9B3B,KAAMA,EACNmC,QAAQ,eAEVjC,EAACkC,EAAU,CAAAL,IAAA,2CAAC/B,KAAMA,IACjBY,KAAKC,wBAA0BD,KAAKyB,aAAaC,KAAKC,OACrDrC,EAACH,EAAM,CACLC,KAAMA,EACNC,QAAS,IAAMW,KAAKO,QAAQqB,oBAE5B,M,GAxDiBC,EAAA,CAA5BC,K,+BAOOD,EAAA,CAFPE,EAAsB,iB,wCAKfF,EAAA,CAFPE,EAAsB,Y,mCAKfF,EAAA,CAFPE,EAAsB,iB,wCAMbF,EAAA,CADTG,EAAe,e","ignoreList":[]}