{"version":3,"names":["AtomicInsightLayout","this","widget","updateStyles","styleTag","innerHTML","buildInsightLayout","host","makeStyleTag","bindings","createStyleElement","appendChild","componentDidLoad","id","randomID","__decorate","InitializeBindings"],"sources":["src/components/insight/atomic-insight-layout/atomic-insight-layout.tsx"],"sourcesContent":["import {Component, Element, Prop, Watch} from '@stencil/core';\nimport {\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {randomID} from '../../../utils/utils';\nimport {InsightBindings} from '../atomic-insight-interface/atomic-insight-interface';\nimport {buildInsightLayout} from './insight-layout';\n\n/**\n * @internal\n */\n@Component({\n  tag: 'atomic-insight-layout',\n  shadow: false,\n})\nexport class AtomicInsightLayout\n  implements InitializableComponent<InsightBindings>\n{\n  public error!: Error;\n  private styleTag?: HTMLStyleElement;\n  @Element() private host!: HTMLElement;\n  /**\n   * Whether the interface should be shown in widget format.\n   */\n  @Prop({reflect: true, mutable: true}) public widget = false;\n  @InitializeBindings() public bindings!: InsightBindings;\n  @Watch('widget')\n  public updateStyles() {\n    if (this.styleTag) {\n      this.styleTag.innerHTML = buildInsightLayout(this.host, this.widget);\n    } else {\n      this.makeStyleTag();\n    }\n  }\n\n  private makeStyleTag() {\n    this.styleTag = this.bindings.createStyleElement();\n    this.styleTag.innerHTML = buildInsightLayout(this.host, this.widget);\n    this.host.appendChild(this.styleTag);\n  }\n\n  public componentDidLoad() {\n    const id = this.host.id || randomID('atomic-insight-layout-');\n    this.host.id = id;\n\n    this.makeStyleTag();\n  }\n}\n"],"mappings":"grBAgBaA,EAAmB,M,yBASeC,KAAAC,OAAS,M,YAAA,K,CAG/C,YAAAC,GACL,GAAIF,KAAKG,SAAU,CACjBH,KAAKG,SAASC,UAAYC,EAAmBL,KAAKM,KAAMN,KAAKC,O,KACxD,CACLD,KAAKO,c,EAID,YAAAA,GACNP,KAAKG,SAAWH,KAAKQ,SAASC,qBAC9BT,KAAKG,SAASC,UAAYC,EAAmBL,KAAKM,KAAMN,KAAKC,QAC7DD,KAAKM,KAAKI,YAAYV,KAAKG,S,CAGtB,gBAAAQ,GACL,MAAMC,EAAKZ,KAAKM,KAAKM,IAAMC,EAAS,0BACpCb,KAAKM,KAAKM,GAAKA,EAEfZ,KAAKO,c,mFApBsBO,EAAA,CAA5BC,K","ignoreList":[]}