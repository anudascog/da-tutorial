{"version":3,"names":["foldedItemListContextEventName","FoldedItemListContext","component","foldedList","componentWillRender","element","getElement","this","event","buildCustomEvent","foldedItemList","canceled","dispatchEvent","call","foldedItemListStateContextEventName","FoldedItemListStateContext","foldedListState","subscribe","state","ChildrenWrapper","hasChildren","children","h","part","name","CollectionGuard","isLoadingMoreResults","moreResultsAvailable","numberOfChildren","density","imageSize","noResultText","ResultsPlaceholder","numberOfPlaceholders","display","trim","length","class","Fragment","ResultChildrenGuard","inheritTemplates","resultTemplateRegistered","templateHasError","ShowHideButton","loadFullCollection","showInitialChildren","toggleShowInitialChildren","loadAllResults","collapseResults","Button","style","onClick"],"sources":["src/components/common/item-list/item-list-decorators.tsx","src/components/common/result-children/children-wrapper.tsx","src/components/common/result-children/collection-guard.tsx","src/components/common/result-children/guard.tsx","src/components/common/result-children/show-hide-button.tsx"],"sourcesContent":["import {ComponentInterface, getElement} from '@stencil/core';\nimport {buildCustomEvent} from '../../../utils/event-utils';\n\ntype FoldedItemListContextEventHandler = (foldedItemList: unknown) => void;\nexport type FoldedItemListContextEvent =\n  CustomEvent<FoldedItemListContextEventHandler>;\nconst foldedItemListContextEventName = 'atomic/resolveFoldedResultList';\n\n/**\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\n * This allows the Stencil component to modify the folded item list rendered levels.\n */\nexport function FoldedItemListContext() {\n  return (component: ComponentInterface, foldedList: string) => {\n    const {componentWillRender} = component;\n    component.componentWillRender = function () {\n      const element = getElement(this);\n      const event = buildCustomEvent(\n        foldedItemListContextEventName,\n        (foldedItemList: unknown) => {\n          this[foldedList] = foldedItemList;\n        }\n      );\n\n      const canceled = element.dispatchEvent(event);\n      if (canceled) {\n        return;\n      }\n      return componentWillRender && componentWillRender.call(this);\n    };\n  };\n}\n\ntype FoldedItemListStateContextEventHandler = (foldedItemList: unknown) => void;\nexport type FoldedItemListStateContextEvent =\n  CustomEvent<FoldedItemListStateContextEventHandler>;\nconst foldedItemListStateContextEventName = 'atomic/resolveFoldedResultList';\n\n/**\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\n * This allows the Stencil component to modify the folded item list rendered levels.\n */\nexport function FoldedItemListStateContext() {\n  return (component: ComponentInterface, foldedListState: string) => {\n    const {componentWillRender} = component;\n    component.componentWillRender = function () {\n      const element = getElement(this);\n      const event = buildCustomEvent(\n        foldedItemListStateContextEventName,\n        (foldedItemList: {\n          subscribe: (callback: () => void) => unknown;\n          state: unknown;\n        }) => {\n          foldedItemList?.subscribe(() => {\n            this[foldedListState] = foldedItemList.state;\n          });\n        }\n      );\n\n      const canceled = element.dispatchEvent(event);\n      if (canceled) {\n        return;\n      }\n      return componentWillRender && componentWillRender.call(this);\n    };\n  };\n}\n","import {FunctionalComponent, h} from '@stencil/core';\n\ninterface ChildrenWrapperProps {\n  hasChildren: boolean;\n}\n\nexport const ChildrenWrapper: FunctionalComponent<ChildrenWrapperProps> = (\n  {hasChildren},\n  children\n) => {\n  return (\n    <div part=\"children-root\">\n      {hasChildren && <slot name=\"before-children\"></slot>}\n      {children}\n      {hasChildren && <slot name=\"after-children\"></slot>}\n    </div>\n  );\n};\n","import {Fragment, FunctionalComponent, h} from '@stencil/core';\nimport {ResultsPlaceholder} from '../atomic-result-placeholder/stencil-placeholders';\nimport {\n  ItemDisplayDensity,\n  ItemDisplayImageSize,\n} from '../layout/display-options';\nimport {ChildrenWrapper} from './children-wrapper';\n\ninterface CollectionGuardProps {\n  isLoadingMoreResults: boolean;\n  moreResultsAvailable: boolean;\n  hasChildren: boolean;\n  numberOfChildren: number;\n  density: ItemDisplayDensity;\n  imageSize: ItemDisplayImageSize;\n  noResultText: string;\n}\nexport const CollectionGuard: FunctionalComponent<CollectionGuardProps> = (\n  {\n    isLoadingMoreResults,\n    moreResultsAvailable,\n    hasChildren,\n    numberOfChildren,\n    density,\n    imageSize,\n    noResultText,\n  },\n  children\n) => {\n  if (isLoadingMoreResults) {\n    return (\n      <ChildrenWrapper hasChildren={hasChildren}>\n        <ResultsPlaceholder\n          numberOfPlaceholders={numberOfChildren}\n          density={density}\n          display={'list'}\n          imageSize={imageSize}\n        />\n      </ChildrenWrapper>\n    );\n  }\n\n  if (!moreResultsAvailable && !hasChildren) {\n    return noResultText.trim().length ? (\n      <p part=\"no-result-root\" class=\"no-result-root my-3\">\n        {noResultText}\n      </p>\n    ) : null;\n  }\n\n  if (!hasChildren) {\n    return;\n  }\n\n  return <Fragment>{children}</Fragment>;\n};\n","import {Fragment, FunctionalComponent, h} from '@stencil/core';\n\ninterface ResultChildrenGuardProps {\n  inheritTemplates: boolean;\n  resultTemplateRegistered: boolean;\n  templateHasError: boolean;\n}\nexport const ResultChildrenGuard: FunctionalComponent<\n  ResultChildrenGuardProps\n> = (\n  {inheritTemplates, resultTemplateRegistered, templateHasError},\n  children\n) => {\n  if (!inheritTemplates && !resultTemplateRegistered) {\n    return;\n  }\n\n  if (!inheritTemplates && templateHasError) {\n    return <slot></slot>;\n  }\n\n  return <Fragment>{children}</Fragment>;\n};\n","import {FunctionalComponent, h} from '@stencil/core';\nimport {Button} from '../stencil-button';\n\ninterface ShowHideButtonProps {\n  moreResultsAvailable: boolean;\n  loadFullCollection: () => void;\n  showInitialChildren: boolean;\n  toggleShowInitialChildren: () => void;\n  loadAllResults: string;\n  collapseResults: string;\n}\n\nexport const ShowHideButton: FunctionalComponent<ShowHideButtonProps> = ({\n  moreResultsAvailable,\n  loadFullCollection,\n  showInitialChildren,\n  toggleShowInitialChildren,\n  loadAllResults,\n  collapseResults,\n}) => {\n  return (\n    <Button\n      part=\"show-hide-button\"\n      class=\"show-hide-button\"\n      style=\"text-primary\"\n      onClick={() => {\n        if (moreResultsAvailable) {\n          loadFullCollection();\n          toggleShowInitialChildren();\n        }\n\n        toggleShowInitialChildren();\n      }}\n    >\n      {showInitialChildren || moreResultsAvailable\n        ? loadAllResults\n        : collapseResults}\n    </Button>\n  );\n};\n"],"mappings":"8JAMA,MAAMA,EAAiC,iC,SAMvBC,IACd,MAAO,CAACC,EAA+BC,KACrC,MAAMC,oBAACA,GAAuBF,EAC9BA,EAAUE,oBAAsB,WAC9B,MAAMC,EAAUC,EAAWC,MAC3B,MAAMC,EAAQC,EACZT,GACCU,IACCH,KAAKJ,GAAcO,CAAc,IAIrC,MAAMC,EAAWN,EAAQO,cAAcJ,GACvC,GAAIG,EAAU,CACZ,M,CAEF,OAAOP,GAAuBA,EAAoBS,KAAKN,K,CACxD,CAEL,CAKA,MAAMO,EAAsC,iC,SAM5BC,IACd,MAAO,CAACb,EAA+Bc,KACrC,MAAMZ,oBAACA,GAAuBF,EAC9BA,EAAUE,oBAAsB,WAC9B,MAAMC,EAAUC,EAAWC,MAC3B,MAAMC,EAAQC,EACZK,GACCJ,IAICA,GAAgBO,WAAU,KACxBV,KAAKS,GAAmBN,EAAeQ,KAAK,GAC5C,IAIN,MAAMP,EAAWN,EAAQO,cAAcJ,GACvC,GAAIG,EAAU,CACZ,M,CAEF,OAAOP,GAAuBA,EAAoBS,KAAKN,K,CACxD,CAEL,C,MC5DaY,EAA6D,EACvEC,eACDC,IAGEC,EAAA,OAAKC,KAAK,iBACPH,GAAeE,EAAA,QAAME,KAAK,oBAC1BH,EACAD,GAAeE,EAAA,QAAME,KAAK,oB,MCGpBC,EAA6D,EAEtEC,uBACAC,uBACAP,cACAQ,mBACAC,UACAC,YACAC,gBAEFV,KAEA,GAAIK,EAAsB,CACxB,OACEJ,EAACH,EAAe,CAACC,YAAaA,GAC5BE,EAACU,EAAkB,CACjBC,qBAAsBL,EACtBC,QAASA,EACTK,QAAS,OACTJ,UAAWA,I,CAMnB,IAAKH,IAAyBP,EAAa,CACzC,OAAOW,EAAaI,OAAOC,OACzBd,EAAA,KAAGC,KAAK,iBAAiBc,MAAM,uBAC5BN,GAED,I,CAGN,IAAKX,EAAa,CAChB,M,CAGF,OAAOE,EAACgB,EAAQ,KAAEjB,EAAoB,E,MC/C3BkB,EAET,EACDC,mBAAkBC,2BAA0BC,oBAC7CrB,KAEA,IAAKmB,IAAqBC,EAA0B,CAClD,M,CAGF,IAAKD,GAAoBE,EAAkB,CACzC,OAAOpB,EAAA,Y,CAGT,OAAOA,EAACgB,EAAQ,KAAEjB,EAAoB,E,MCT3BsB,EAA2D,EACtEhB,uBACAiB,qBACAC,sBACAC,4BACAC,iBACAC,qBAGE1B,EAAC2B,EAAM,CACL1B,KAAK,mBACLc,MAAM,mBACNa,MAAM,eACNC,QAAS,KACP,GAAIxB,EAAsB,CACxBiB,IACAE,G,CAGFA,GAA2B,GAG5BD,GAAuBlB,EACpBoB,EACAC,U","ignoreList":[]}