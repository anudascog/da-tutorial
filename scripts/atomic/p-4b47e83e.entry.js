import{r as s,h as e,H as i,g as t}from"./p-dc3df5ce.js";import{b as a}from"./p-37b7705c.js";import{r}from"./p-cbd58764.js";import"./p-f284897c.js";import"./p-0462f723.js";const o=class{constructor(e){s(this,e);this.regions={};this.messagesQueue=a({delay:500});this.regions={}}onFindAriaLive({detail:s}){if(!s.element||!this.isInSearchInterface){s.element=this.host}}get isInSearchInterface(){let s=this.host;while(s){if(s.tagName==="ATOMIC-SEARCH-INTERFACE"){return true}s=s.parentElement}return false}connectedCallback(){this.id=r("atomic-aria-live-")}async updateMessage(s,e,i){const t=()=>this.regions={...this.regions,[s]:{assertive:i,message:e}};if(e){this.messagesQueue.enqueue(t,s)}else{this.messagesQueue.cancelActionIfQueued(s);t()}}async registerRegion(s,e){if(s in this.regions){return}this.regions={...this.regions,[s]:{assertive:e,message:""}}}disconnectedCallback(){this.messagesQueue.clear()}render(){return e(i,{key:"7e8db409c9974f4959e0a15fdffa544f06f5a93c",style:{position:"absolute",display:"block",height:"0",overflow:"hidden",margin:"0"}},Object.entries(this.regions).map((([s,{assertive:i,message:t}])=>e("div",{key:s,id:`${this.id}-${s}`,"aria-live":i?"assertive":"polite",role:"status"},t))))}get host(){return t(this)}};export{o as atomic_aria_live};
//# sourceMappingURL=p-4b47e83e.entry.js.map