import{isArray as o}from"@coveo/bueno";import{g as t}from"./p-dc3df5ce.js";import{c as n,k as c}from"./p-cbd58764.js";function r(o){return(n,c)=>{const{componentWillLoad:r}=n;if(!r){console.error('The "componentWillLoad" lifecycle method has to be defined for the MapProp decorator to work.');return}n.componentWillLoad=function(){const n=o&&o.attributePrefix||c;const s=this[c];const e=t(this).attributes;i(n,s,Array.from(e),o?.splitValues??false);r.call(this)}}}function s(){return(c,r)=>{const{componentWillLoad:s}=c;const e=n(r);c.componentWillLoad=function(){const n=this[r];if(!n||o(n)){s?.call(this);return}try{const c=JSON.parse(n);if(o(c)){this[r]=c}else{console.error(`Property ${e} should be an array`,t(this))}}catch(o){console.error(`Error while parsing attribute ${e} as array`,o)}s?.call(this)}}}function e(o){const t=/(?:\\.|[^,])+/g;const[...n]=o.matchAll(t)??[];const c=/\\(.)/g;return n.map((([o])=>o.replace(c,"$1")))}function i(o,t,n,c){const r=f(o,n);Object.assign(t,c?a(r):r)}function a(o){return Object.entries(o).reduce(((o,[t,n])=>({...o,[t]:e(n).map((o=>o.trim()))})),{})}function f(o,t){const r={};const s=n(o)+"-";for(let o=0;o<t.length;o++){const n=t[o];if(n.name.indexOf(s)!==0){continue}const e=c(n.name.replace(s,""));r[e]=`${n.value}`}return r}export{s as A,r as M};
//# sourceMappingURL=p-6afe3d78.js.map