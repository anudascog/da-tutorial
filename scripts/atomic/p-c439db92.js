import{i as n}from"./p-cbd58764.js";function t(n){const t=new Map;const o=new Proxy(n,{set(n,o,e){const s=n[o];if(s!==e){n[o]=e;if(t.has(o)){for(const n of t.get(o)){n(e)}}}return true}});const e=n=>o[n];const s=(n,t)=>{o[n]=t};const i=(n,o)=>{if(!t.has(n)){t.set(n,new Set)}t.get(n).add(o);return()=>{t.get(n).delete(o);if(t.get(n).size===0){t.delete(n)}}};return{state:o,get:e,set:s,onChange:i}}function o(n){const o=t(n);return{...o,getUniqueIDFromEngine(n){throw new Error("getUniqueIDFromEngine not implemented at the base store level.")}}}function e(n,t){const o=n.state.loadingFlags;n.state.loadingFlags=o.filter((n=>n!==t))}function s(n,t){const o=n.state.loadingFlags;n.state.loadingFlags=o.concat(t)}const i="is-refine-modal";function r(n,t,o){const e=(t,o)=>{if(n.state[t][o]){n.state.facetElements=n.state.facetElements.filter((n=>n.getAttribute("facet-id")!==o))}};if(o.element.getAttribute(i)!==null){return}e(t,o.facetId);n.state.facetElements.push(o.element);n.state[t][o.facetId]=o}function c(t){return t.state.facetElements.filter((t=>n(t)))}function a(n,t){if(!n.state.loadingFlags.length){t()}else{n.onChange("loadingFlags",(n=>{if(!n.length){t()}}))}}function f(n,t){const o=()=>{const o=n.state.loadingFlags.length===0;t(o)};n.onChange("loadingFlags",o);o()}export{o as a,f as c,c as g,i,r,s,e as u,a as w};
//# sourceMappingURL=p-c439db92.js.map