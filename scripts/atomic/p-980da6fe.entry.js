import{r as t,h as e,H as r}from"./p-dc3df5ce.js";import{buildContext as i}from"@coveo/headless/commerce";import{I as c,B as s}from"./p-d6e6dbc3.js";import{d as o}from"./p-f3c1c9a0.js";import{P as a}from"./p-90ee956a.js";import{p}from"./p-c976c276.js";import"./p-c9074946.js";import"./p-1580513b.js";import"./p-05de7ca3.js";import"./p-f77160c6.js";import"./p-62386853.js";import"./p-e39d4895.js";import"./p-818a7e47.js";const n=".display-grid atomic-product-price{display:flex;flex-wrap:wrap;flex-direction:column}.display-grid atomic-product-price .original-price{line-height:1}";const d=n;var l=undefined&&undefined.__decorate||function(t,e,r,i){var c=arguments.length,s=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)if(o=t[a])s=(c<3?o(s):c>3?o(e,r,s):o(e,r))||s;return c>3&&s&&Object.defineProperty(e,r,s),s};const f=class{constructor(e){t(this,e)}initialize(){this.context=i(this.bindings.engine)}formatValue(t){try{const{currency:e}=this.contextState;const r=o(e);return r(t,this.bindings.i18n.languages)}catch(e){this.error=e;return t.toString()}}parse(t){try{return p(this.product,t)}catch(t){this.error=t;return null}}getFormattedValue(t){const e=this.parse(t);if(e!==null){return this.formatValue(e)}}get hasPromotionalPrice(){return this.product.ec_promo_price!==null&&this.product.ec_price!==null&&this.product.ec_promo_price<this.product.ec_price}render(){const t=this.getFormattedValue(this.hasPromotionalPrice?"ec_promo_price":"ec_price");const i=this.hasPromotionalPrice?this.getFormattedValue("ec_price"):null;return e(r,{key:"8aac839e8bbf103b8c316d58bd64f01dd2f062f5",class:"flex flex-wrap gap-1"},e("div",{key:"d090dba5f486f1fd86e23f50e3b213f7ee3abb9c",class:`truncate break-keep ${this.hasPromotionalPrice&&"text-error"}`},t),e("div",{key:"c6a2a61aae550c87567a85d9dd1159c9146e267c",class:"original-price content-center truncate text-xl break-keep line-through"+(!i?" invisible":"")},i??"â€‹"))}};l([c()],f.prototype,"bindings",void 0);l([a()],f.prototype,"product",void 0);l([s("context")],f.prototype,"contextState",void 0);f.style=d;export{f as atomic_product_price};
//# sourceMappingURL=p-980da6fe.entry.js.map