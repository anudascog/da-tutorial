import{VERSION as t}from"@coveo/headless";import{d as e}from"./p-35e58270.js";import{h as n}from"./p-dc3df5ce.js";import{D as i}from"./p-f284897c.js";const s=t=>typeof t==="string";const r=()=>{let t;let e;const n=new Promise(((n,i)=>{t=n;e=i}));n.resolve=t;n.reject=e;return n};const o=t=>{if(t==null)return"";return""+t};const f=(t,e,n)=>{t.forEach((t=>{if(e[t])n[t]=e[t]}))};const u=/###/g;const a=t=>t&&t.indexOf("###")>-1?t.replace(u,"."):t;const c=t=>!t||s(t);const h=(t,e,n)=>{const i=!s(e)?e:e.split(".");let r=0;while(r<i.length-1){if(c(t))return{};const e=a(i[r]);if(!t[e]&&n)t[e]=new n;if(Object.prototype.hasOwnProperty.call(t,e)){t=t[e]}else{t={}}++r}if(c(t))return{};return{obj:t,k:a(i[r])}};const l=(t,e,n)=>{const{obj:i,k:s}=h(t,e,Object);if(i!==undefined||e.length===1){i[s]=n;return}let r=e[e.length-1];let o=e.slice(0,e.length-1);let f=h(t,o,Object);while(f.obj===undefined&&o.length){r=`${o[o.length-1]}.${r}`;o=o.slice(0,o.length-1);f=h(t,o,Object);if(f?.obj&&typeof f.obj[`${f.k}.${r}`]!=="undefined"){f.obj=undefined}}f.obj[`${f.k}.${r}`]=n};const d=(t,e,n,i)=>{const{obj:s,k:r}=h(t,e,Object);s[r]=s[r]||[];s[r].push(n)};const p=(t,e)=>{const{obj:n,k:i}=h(t,e);if(!n)return undefined;if(!Object.prototype.hasOwnProperty.call(n,i))return undefined;return n[i]};const m=(t,e,n)=>{const i=p(t,n);if(i!==undefined){return i}return p(e,n)};const b=(t,e,n)=>{for(const i in e){if(i!=="__proto__"&&i!=="constructor"){if(i in t){if(s(t[i])||t[i]instanceof String||s(e[i])||e[i]instanceof String){if(n)t[i]=e[i]}else{b(t[i],e[i],n)}}else{t[i]=e[i]}}}return t};const g=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const j=t=>{if(s(t)){return t.replace(/[&<>"'\/]/g,(t=>y[t]))}return t};class v{constructor(t){this.capacity=t;this.regExpMap=new Map;this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==undefined){return e}const n=new RegExp(t);if(this.regExpQueue.length===this.capacity){this.regExpMap.delete(this.regExpQueue.shift())}this.regExpMap.set(t,n);this.regExpQueue.push(t);return n}}const w=[" ",",","?","!",";"];const $=new v(20);const O=(t,e,n)=>{e=e||"";n=n||"";const i=w.filter((t=>e.indexOf(t)<0&&n.indexOf(t)<0));if(i.length===0)return true;const s=$.getRegExp(`(${i.map((t=>t==="?"?"\\?":t)).join("|")})`);let r=!s.test(t);if(!r){const e=t.indexOf(n);if(e>0&&!s.test(t.substring(0,e))){r=true}}return r};const S=function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:".";if(!t)return undefined;if(t[e]){if(!Object.prototype.hasOwnProperty.call(t,e))return undefined;return t[e]}const i=e.split(n);let s=t;for(let t=0;t<i.length;){if(!s||typeof s!=="object"){return undefined}let e;let r="";for(let o=t;o<i.length;++o){if(o!==t){r+=n}r+=i[o];e=s[r];if(e!==undefined){if(["string","number","boolean"].indexOf(typeof e)>-1&&o<i.length-1){continue}t+=o-t+1;break}}s=e}return s};const k=t=>t?.replace("_","-");const x={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class N{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=e.prefix||"i18next:";this.logger=t||x;this.options=e;this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.forward(e,"log","",true)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.forward(e,"warn","",true)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.forward(e,"warn","WARNING DEPRECATED: ",true)}forward(t,e,n,i){if(i&&!this.debug)return null;if(s(t[0]))t[0]=`${n}${this.prefix} ${t[0]}`;return this.logger[e](t)}create(t){return new N(this.logger,{...{prefix:`${this.prefix}:${t}:`},...this.options})}clone(t){t=t||this.options;t.prefix=t.prefix||this.prefix;return new N(this.logger,t)}}var L=new N;class R{constructor(){this.observers={}}on(t,e){t.split(" ").forEach((t=>{if(!this.observers[t])this.observers[t]=new Map;const n=this.observers[t].get(e)||0;this.observers[t].set(e,n+1)}));return this}off(t,e){if(!this.observers[t])return;if(!e){delete this.observers[t];return}this.observers[t].delete(e)}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}if(this.observers[t]){const e=Array.from(this.observers[t].entries());e.forEach((t=>{let[e,i]=t;for(let t=0;t<i;t++){e(...n)}}))}if(this.observers["*"]){const e=Array.from(this.observers["*"].entries());e.forEach((e=>{let[i,s]=e;for(let e=0;e<s;e++){i.apply(i,[t,...n])}}))}}}class P extends R{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};super();this.data=t||{};this.options=e;if(this.options.keySeparator===undefined){this.options.keySeparator="."}if(this.options.ignoreJSONStructure===undefined){this.options.ignoreJSONStructure=true}}addNamespaces(t){if(this.options.ns.indexOf(t)<0){this.options.ns.push(t)}}removeNamespaces(t){const e=this.options.ns.indexOf(t);if(e>-1){this.options.ns.splice(e,1)}}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const r=i.keySeparator!==undefined?i.keySeparator:this.options.keySeparator;const o=i.ignoreJSONStructure!==undefined?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;if(t.indexOf(".")>-1){f=t.split(".")}else{f=[t,e];if(n){if(Array.isArray(n)){f.push(...n)}else if(s(n)&&r){f.push(...n.split(r))}else{f.push(n)}}}const u=p(this.data,f);if(!u&&!e&&!n&&t.indexOf(".")>-1){t=f[0];e=f[1];n=f.slice(2).join(".")}if(u||!o||!s(n))return u;return S(this.data?.[t]?.[e],n,r)}addResource(t,e,n,i){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};const r=s.keySeparator!==undefined?s.keySeparator:this.options.keySeparator;let o=[t,e];if(n)o=o.concat(r?n.split(r):n);if(t.indexOf(".")>-1){o=t.split(".");i=e;e=o[1]}this.addNamespaces(e);l(this.data,o,i);if(!s.silent)this.emit("added",t,e,n,i)}addResources(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{silent:false};for(const i in n){if(s(n[i])||Array.isArray(n[i]))this.addResource(t,e,i,n[i],{silent:true})}if(!i.silent)this.emit("added",t,e,n)}addResourceBundle(t,e,n,i,s){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{silent:false,skipCopy:false};let o=[t,e];if(t.indexOf(".")>-1){o=t.split(".");i=n;n=e;e=o[1]}this.addNamespaces(e);let f=p(this.data,o)||{};if(!r.skipCopy)n=JSON.parse(JSON.stringify(n));if(i){b(f,n,s)}else{f={...f,...n}}l(this.data,o,f);if(!r.silent)this.emit("added",t,e,n)}removeResourceBundle(t,e){if(this.hasResourceBundle(t,e)){delete this.data[t][e]}this.removeNamespaces(e);this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==undefined}getResourceBundle(t,e){if(!e)e=this.options.defaultNS;return this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);const n=e&&Object.keys(e)||[];return!!n.find((t=>e[t]&&Object.keys(e[t]).length>0))}toJSON(){return this.data}}var A={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){t.forEach((t=>{e=this.processors[t]?.process(e,n,i,s)??e}));return e}};const C={};const T=t=>!s(t)&&typeof t!=="boolean"&&typeof t!=="number";class z extends R{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};super();f(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this);this.options=e;if(this.options.keySeparator===undefined){this.options.keySeparator="."}this.logger=L.create("translator")}changeLanguage(t){if(t)this.language=t}exists(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};if(t==null){return false}const n=this.resolve(t,e);return n?.res!==undefined}extractFromKey(t,e){let n=e.nsSeparator!==undefined?e.nsSeparator:this.options.nsSeparator;if(n===undefined)n=":";const i=e.keySeparator!==undefined?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1;const f=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!O(t,n,i);if(o&&!f){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0){return{key:t,namespaces:s(r)?[r]:r}}const o=t.split(n);if(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)r=o.shift();t=o.join(i)}return{key:t,namespaces:s(r)?[r]:r}}translate(t,e,n){if(typeof e!=="object"&&this.options.overloadTranslationOptionHandler){e=this.options.overloadTranslationOptionHandler(arguments)}if(typeof e==="object")e={...e};if(!e)e={};if(t==null)return"";if(!Array.isArray(t))t=[String(t)];const i=e.returnDetails!==undefined?e.returnDetails:this.options.returnDetails;const r=e.keySeparator!==undefined?e.keySeparator:this.options.keySeparator;const{key:o,namespaces:f}=this.extractFromKey(t[t.length-1],e);const u=f[f.length-1];const a=e.lng||this.language;const c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a?.toLowerCase()==="cimode"){if(c){const t=e.nsSeparator||this.options.nsSeparator;if(i){return{res:`${u}${t}${o}`,usedKey:o,exactUsedKey:o,usedLng:a,usedNS:u,usedParams:this.getUsedParamsDetails(e)}}return`${u}${t}${o}`}if(i){return{res:o,usedKey:o,exactUsedKey:o,usedLng:a,usedNS:u,usedParams:this.getUsedParamsDetails(e)}}return o}const h=this.resolve(t,e);let l=h?.res;const d=h?.usedKey||o;const p=h?.exactUsedKey||o;const m=["[object Number]","[object Function]","[object RegExp]"];const b=e.joinArrays!==undefined?e.joinArrays:this.options.joinArrays;const g=!this.i18nFormat||this.i18nFormat.handleAsObject;const y=e.count!==undefined&&!s(e.count);const j=z.hasDefaultValue(e);const v=y?this.pluralResolver.getSuffix(a,e.count,e):"";const w=e.ordinal&&y?this.pluralResolver.getSuffix(a,e.count,{ordinal:false}):"";const $=y&&!e.ordinal&&e.count===0;const O=$&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${v}`]||e[`defaultValue${w}`]||e.defaultValue;let S=l;if(g&&!l&&j){S=O}const k=T(S);const x=Object.prototype.toString.apply(S);if(g&&S&&k&&m.indexOf(x)<0&&!(s(b)&&Array.isArray(S))){if(!e.returnObjects&&!this.options.returnObjects){if(!this.options.returnedObjectHandler){this.logger.warn("accessing an object - but returnObjects options is not enabled!")}const t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,S,{...e,ns:f}):`key '${o} (${this.language})' returned an object instead of string.`;if(i){h.res=t;h.usedParams=this.getUsedParamsDetails(e);return h}return t}if(r){const t=Array.isArray(S);const n=t?[]:{};const i=t?p:d;for(const t in S){if(Object.prototype.hasOwnProperty.call(S,t)){const s=`${i}${r}${t}`;if(j&&!l){n[t]=this.translate(s,{...e,defaultValue:T(O)?O[t]:undefined,...{joinArrays:false,ns:f}})}else{n[t]=this.translate(s,{...e,...{joinArrays:false,ns:f}})}if(n[t]===s)n[t]=S[t]}}l=n}}else if(g&&s(b)&&Array.isArray(l)){l=l.join(b);if(l)l=this.extendTranslation(l,t,e,n)}else{let i=false;let s=false;if(!this.isValidLookup(l)&&j){i=true;l=O}if(!this.isValidLookup(l)){s=true;l=o}const f=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey;const c=f&&s?undefined:l;const d=j&&O!==l&&this.options.updateMissing;if(s||i||d){this.logger.log(d?"updateKey":"missingKey",a,u,o,d?O:l);if(r){const t=this.resolve(o,{...e,keySeparator:false});if(t&&t.res)this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&n&&n[0]){for(let e=0;e<n.length;e++){t.push(n[e])}}else if(this.options.saveMissingTo==="all"){t=this.languageUtils.toResolveHierarchy(e.lng||this.language)}else{t.push(e.lng||this.language)}const i=(t,n,i)=>{const s=j&&i!==l?i:c;if(this.options.missingKeyHandler){this.options.missingKeyHandler(t,u,n,s,d,e)}else if(this.backendConnector?.saveMissing){this.backendConnector.saveMissing(t,u,n,s,d,e)}this.emit("missingKey",t,u,n,l)};if(this.options.saveMissing){if(this.options.saveMissingPlurals&&y){t.forEach((t=>{const n=this.pluralResolver.getSuffixes(t,e);if($&&e[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0){n.push(`${this.options.pluralSeparator}zero`)}n.forEach((n=>{i([t],o+n,e[`defaultValue${n}`]||O)}))}))}else{i(t,o,O)}}}l=this.extendTranslation(l,t,e,h,n);if(s&&l===o&&this.options.appendNamespaceToMissingKey)l=`${u}:${o}`;if((s||i)&&this.options.parseMissingKeyHandler){l=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,i?l:undefined)}}if(i){h.res=l;h.usedParams=this.getUsedParamsDetails(e);return h}return l}extendTranslation(t,e,n,i,r){var o=this;if(this.i18nFormat?.parse){t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i})}else if(!n.skipInterpolation){if(n.interpolation)this.interpolator.init({...n,...{interpolation:{...this.options.interpolation,...n.interpolation}}});const f=s(t)&&(n?.interpolation?.skipOnVariables!==undefined?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(f){const e=t.match(this.interpolator.nestingRegexp);u=e&&e.length}let a=n.replace&&!s(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables)a={...this.options.interpolation.defaultVariables,...a};t=this.interpolator.interpolate(t,a,n.lng||this.language||i.usedLng,n);if(f){const e=t.match(this.interpolator.nestingRegexp);const i=e&&e.length;if(u<i)n.nest=false}if(!n.lng&&i&&i.res)n.lng=this.language||i.usedLng;if(n.nest!==false)t=this.interpolator.nest(t,(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++){i[s]=arguments[s]}if(r?.[0]===i[0]&&!n.context){o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${e[0]}`);return null}return o.translate(...i,e)}),n);if(n.interpolation)this.interpolator.reset()}const f=n.postProcess||this.options.postProcess;const u=s(f)?[f]:f;if(t!=null&&u?.length&&n.applyPostProcessor!==false){t=A.handle(u,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)}return t}resolve(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n;let i;let r;let o;let f;if(s(t))t=[t];t.forEach((t=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(t,e);const a=u.key;i=a;let c=u.namespaces;if(this.options.fallbackNS)c=c.concat(this.options.fallbackNS);const h=e.count!==undefined&&!s(e.count);const l=h&&!e.ordinal&&e.count===0;const d=e.context!==undefined&&(s(e.context)||typeof e.context==="number")&&e.context!=="";const p=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);c.forEach((t=>{if(this.isValidLookup(n))return;f=t;if(!C[`${p[0]}-${t}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(f)){C[`${p[0]}-${t}`]=true;this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}p.forEach((i=>{if(this.isValidLookup(n))return;o=i;const s=[a];if(this.i18nFormat?.addLookupKeys){this.i18nFormat.addLookupKeys(s,a,i,t,e)}else{let t;if(h)t=this.pluralResolver.getSuffix(i,e.count,e);const n=`${this.options.pluralSeparator}zero`;const r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h){s.push(a+t);if(e.ordinal&&t.indexOf(r)===0){s.push(a+t.replace(r,this.options.pluralSeparator))}if(l){s.push(a+n)}}if(d){const i=`${a}${this.options.contextSeparator}${e.context}`;s.push(i);if(h){s.push(i+t);if(e.ordinal&&t.indexOf(r)===0){s.push(i+t.replace(r,this.options.pluralSeparator))}if(l){s.push(i+n)}}}}let f;while(f=s.pop()){if(!this.isValidLookup(n)){r=f;n=this.getResource(i,t,f,e)}}}))}))}));return{res:n,usedKey:i,exactUsedKey:r,usedLng:o,usedNS:f}}isValidLookup(t){return t!==undefined&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(this.i18nFormat?.getResource)return this.i18nFormat.getResource(t,e,n,i);return this.resourceStore.getResource(t,e,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"];const n=t.replace&&!s(t.replace);let i=n?t.replace:t;if(n&&typeof t.count!=="undefined"){i.count=t.count}if(this.options.interpolation.defaultVariables){i={...this.options.interpolation.defaultVariables,...i}}if(!n){i={...i};for(const t of e){delete i[t]}}return i}static hasDefaultValue(t){const e="defaultValue";for(const n in t){if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&undefined!==t[n]){return true}}return false}}class E{constructor(t){this.options=t;this.supportedLngs=this.options.supportedLngs||false;this.logger=L.create("languageUtils")}getScriptPartFromCode(t){t=k(t);if(!t||t.indexOf("-")<0)return null;const e=t.split("-");if(e.length===2)return null;e.pop();if(e[e.length-1].toLowerCase()==="x")return null;return this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){t=k(t);if(!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(s(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch(t){}if(e&&this.options.lowerCaseLng){e=e.toLowerCase()}if(e)return e;if(this.options.lowerCaseLng){return t.toLowerCase()}return t}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){if(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs){t=this.getLanguagePartFromCode(t)}return!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;t.forEach((t=>{if(e)return;const n=this.formatLanguageCode(t);if(!this.options.supportedLngs||this.isSupportedCode(n))e=n}));if(!e&&this.options.supportedLngs){t.forEach((t=>{if(e)return;const n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return e=n;e=this.options.supportedLngs.find((t=>{if(t===n)return t;if(t.indexOf("-")<0&&n.indexOf("-")<0)return;if(t.indexOf("-")>0&&n.indexOf("-")<0&&t.substring(0,t.indexOf("-"))===n)return t;if(t.indexOf(n)===0&&n.length>1)return t}))}))}if(!e)e=this.getFallbackCodes(this.options.fallbackLng)[0];return e}getFallbackCodes(t,e){if(!t)return[];if(typeof t==="function")t=t(e);if(s(t))t=[t];if(Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];if(!n)n=t[this.getScriptPartFromCode(e)];if(!n)n=t[this.formatLanguageCode(e)];if(!n)n=t[this.getLanguagePartFromCode(e)];if(!n)n=t.default;return n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t);const i=[];const r=t=>{if(!t)return;if(this.isSupportedCode(t)){i.push(t)}else{this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`)}};if(s(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)){if(this.options.load!=="languageOnly")r(this.formatLanguageCode(t));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")r(this.getScriptPartFromCode(t));if(this.options.load!=="currentOnly")r(this.getLanguagePartFromCode(t))}else if(s(t)){r(this.formatLanguageCode(t))}n.forEach((t=>{if(i.indexOf(t)<0)r(this.formatLanguageCode(t))}));return i}}const I={zero:0,one:1,two:2,few:3,many:4,other:5};const M={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class U{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.languageUtils=t;this.options=e;this.logger=L.create("pluralResolver");this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const n=k(t==="dev"?"en":t);const i=e.ordinal?"ordinal":"cardinal";const s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache){return this.pluralRulesCache[s]}let r;try{r=new Intl.PluralRules(n,{type:i})}catch(n){if(!Intl){this.logger.error("No Intl support, please use an Intl polyfill!");return M}if(!t.match(/-|_/))return M;const i=this.languageUtils.getLanguagePartFromCode(t);r=this.getRule(i,e)}this.pluralRulesCache[s]=r;return r}needsPlural(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=this.getRule(t,e);if(!n)n=this.getRule("dev",e);return n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.getSuffixes(t,n).map((t=>`${e}${t}`))}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=this.getRule(t,e);if(!n)n=this.getRule("dev",e);if(!n)return[];return n.resolvedOptions().pluralCategories.sort(((t,e)=>I[t]-I[e])).map((t=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${t}`))}getSuffix(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const i=this.getRule(t,n);if(i){return`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`}this.logger.warn(`no plural rule found for: ${t}`);return this.getSuffix("dev",e,n)}}const V=function(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:".";let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;let o=m(t,e,n);if(!o&&r&&s(n)){o=S(t,n,i);if(o===undefined)o=S(e,n,i)}return o};const H=t=>t.replace(/\$/g,"$$$$");class q{constructor(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.logger=L.create("interpolator");this.options=t;this.format=t?.interpolation?.format||(t=>t);this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!t.interpolation)t.interpolation={escapeValue:true};const{escape:e,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:r,suffix:o,suffixEscaped:f,formatSeparator:u,unescapeSuffix:a,unescapePrefix:c,nestingPrefix:h,nestingPrefixEscaped:l,nestingSuffix:d,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:b,alwaysFormat:y}=t.interpolation;this.escape=e!==undefined?e:j;this.escapeValue=n!==undefined?n:true;this.useRawValueToEscape=i!==undefined?i:false;this.prefix=s?g(s):r||"{{";this.suffix=o?g(o):f||"}}";this.formatSeparator=u||",";this.unescapePrefix=a?"":c||"-";this.unescapeSuffix=this.unescapePrefix?"":a||"";this.nestingPrefix=h?g(h):l||g("$t(");this.nestingSuffix=d?g(d):p||g(")");this.nestingOptionsSeparator=m||",";this.maxReplaces=b||1e3;this.alwaysFormat=y!==undefined?y:false;this.resetRegExp()}reset(){if(this.options)this.init(this.options)}resetRegExp(){const t=(t,e)=>{if(t?.source===e){t.lastIndex=0;return t}return new RegExp(e,"g")};this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`);this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,i){let r;let f;let u;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};const c=t=>{if(t.indexOf(this.formatSeparator)<0){const s=V(e,a,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,undefined,n,{...i,...e,interpolationkey:t}):s}const s=t.split(this.formatSeparator);const r=s.shift().trim();const o=s.join(this.formatSeparator).trim();return this.format(V(e,a,r,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...i,...e,interpolationkey:r})};this.resetRegExp();const h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler;const l=i?.interpolation?.skipOnVariables!==undefined?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;const d=[{regex:this.regexpUnescape,safeValue:t=>H(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?H(this.escape(t)):H(t)}];d.forEach((e=>{u=0;while(r=e.regex.exec(t)){const n=r[1].trim();f=c(n);if(f===undefined){if(typeof h==="function"){const e=h(t,r,i);f=s(e)?e:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n)){f=""}else if(l){f=r[0];continue}else{this.logger.warn(`missed to pass in variable ${n} for interpolating ${t}`);f=""}}else if(!s(f)&&!this.useRawValueToEscape){f=o(f)}const a=e.safeValue(f);t=t.replace(r[0],a);if(l){e.regex.lastIndex+=f.length;e.regex.lastIndex-=r[0].length}else{e.regex.lastIndex=0}u++;if(u>=this.maxReplaces){break}}}));return t}nest(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i;let r;let f;const u=(t,e)=>{const n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;const i=t.split(new RegExp(`${n}[ ]*{`));let s=`{${i[1]}`;t=i[0];s=this.interpolate(s,f);const r=s.match(/'/g);const o=s.match(/"/g);if((r?.length??0)%2===0&&!o||o.length%2!==0){s=s.replace(/'/g,'"')}try{f=JSON.parse(s);if(e)f={...e,...f}}catch(e){this.logger.warn(`failed parsing options string in nesting for key ${t}`,e);return`${t}${n}${s}`}if(f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1)delete f.defaultValue;return t};while(i=this.nestingRegexp.exec(t)){let a=[];f={...n};f=f.replace&&!s(f.replace)?f.replace:f;f.applyPostProcessor=false;delete f.defaultValue;let c=false;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const t=i[1].split(this.formatSeparator).map((t=>t.trim()));i[1]=t.shift();a=t;c=true}r=e(u.call(this,i[1].trim(),f),f);if(r&&i[0]===t&&!s(r))return r;if(!s(r))r=o(r);if(!r){this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`);r=""}if(c){r=a.reduce(((t,e)=>this.format(t,e,n.lng,{...n,interpolationkey:i[1].trim()})),r.trim())}t=t.replace(i[0],r);this.regexp.lastIndex=0}return t}}const B=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);if(e==="currency"&&s.indexOf(":")<0){if(!n.currency)n.currency=s.trim()}else if(e==="relativetime"&&s.indexOf(":")<0){if(!n.range)n.range=s.trim()}else{const t=s.split(";");t.forEach((t=>{if(t){const[e,...i]=t.split(":");const s=i.join(":").trim().replace(/^'+|'+$/g,"");const r=e.trim();if(!n[r])n[r]=s;if(s==="false")n[r]=false;if(s==="true")n[r]=true;if(!isNaN(s))n[r]=parseInt(s,10)}}))}}return{formatName:e,formatOptions:n}};const D=t=>{const e={};return(n,i,s)=>{let r=s;if(s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]){r={...r,[s.interpolationkey]:undefined}}const o=i+JSON.stringify(r);let f=e[o];if(!f){f=t(k(i),s);e[o]=f}return f(n)}};class K{constructor(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.logger=L.create("formatter");this.options=t;this.formats={number:D(((t,e)=>{const n=new Intl.NumberFormat(t,{...e});return t=>n.format(t)})),currency:D(((t,e)=>{const n=new Intl.NumberFormat(t,{...e,style:"currency"});return t=>n.format(t)})),datetime:D(((t,e)=>{const n=new Intl.DateTimeFormat(t,{...e});return t=>n.format(t)})),relativetime:D(((t,e)=>{const n=new Intl.RelativeTimeFormat(t,{...e});return t=>n.format(t,e.range||"day")})),list:D(((t,e)=>{const n=new Intl.ListFormat(t,{...e});return t=>n.format(t)}))};this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=D(e)}format(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const s=e.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find((t=>t.indexOf(")")>-1))){const t=s.findIndex((t=>t.indexOf(")")>-1));s[0]=[s[0],...s.splice(1,t)].join(this.formatSeparator)}const r=s.reduce(((t,e)=>{const{formatName:s,formatOptions:r}=B(e);if(this.formats[s]){let e=t;try{const o=i?.formatParams?.[i.interpolationkey]||{};const f=o.locale||o.lng||i.locale||i.lng||n;e=this.formats[s](t,f,{...r,...i,...o})}catch(t){this.logger.warn(t)}return e}else{this.logger.warn(`there was no format function for ${s}`)}return t}),t);return r}}const F=(t,e)=>{if(t.pending[e]!==undefined){delete t.pending[e];t.pendingCount--}};class _ extends R{constructor(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};super();this.backend=t;this.store=e;this.services=n;this.languageUtils=n.languageUtils;this.options=i;this.logger=L.create("backendConnector");this.waitingReads=[];this.maxParallelReads=i.maxParallelReads||10;this.readingCalls=0;this.maxRetries=i.maxRetries>=0?i.maxRetries:5;this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350;this.state={};this.queue=[];this.backend?.init?.(n,i.backend,i)}queueLoad(t,e,n,i){const s={};const r={};const o={};const f={};t.forEach((t=>{let i=true;e.forEach((e=>{const o=`${t}|${e}`;if(!n.reload&&this.store.hasResourceBundle(t,e)){this.state[o]=2}else if(this.state[o]<0);else if(this.state[o]===1){if(r[o]===undefined)r[o]=true}else{this.state[o]=1;i=false;if(r[o]===undefined)r[o]=true;if(s[o]===undefined)s[o]=true;if(f[e]===undefined)f[e]=true}}));if(!i)o[t]=true}));if(Object.keys(s).length||Object.keys(r).length){this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:i})}return{toLoad:Object.keys(s),pending:Object.keys(r),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(f)}}loaded(t,e,n){const i=t.split("|");const s=i[0];const r=i[1];if(e)this.emit("failedLoading",s,r,e);if(!e&&n){this.store.addResourceBundle(s,r,n,undefined,undefined,{skipCopy:true})}this.state[t]=e?-1:2;if(e&&n)this.state[t]=0;const o={};this.queue.forEach((n=>{d(n.loaded,[s],r);F(n,t);if(e)n.errors.push(e);if(n.pendingCount===0&&!n.done){Object.keys(n.loaded).forEach((t=>{if(!o[t])o[t]={};const e=n.loaded[t];if(e.length){e.forEach((e=>{if(o[t][e]===undefined)o[t][e]=true}))}}));n.done=true;if(n.errors.length){n.callback(n.errors)}else{n.callback()}}}));this.emit("loaded",o);this.queue=this.queue.filter((t=>!t.done))}read(t,e,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:this.retryTimeout;let r=arguments.length>5?arguments[5]:undefined;if(!t.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:s,callback:r});return}this.readingCalls++;const o=(o,f)=>{this.readingCalls--;if(this.waitingReads.length>0){const t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}if(o&&f&&i<this.maxRetries){setTimeout((()=>{this.read.call(this,t,e,n,i+1,s*2,r)}),s);return}r(o,f)};const f=this.backend[n].bind(this.backend);if(f.length===2){try{const n=f(t,e);if(n&&typeof n.then==="function"){n.then((t=>o(null,t))).catch(o)}else{o(null,n)}}catch(t){o(t)}return}return f(t,e,o)}prepareLoading(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i=arguments.length>3?arguments[3]:undefined;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return i&&i()}if(s(t))t=this.languageUtils.toResolveHierarchy(t);if(s(e))e=[e];const r=this.queueLoad(t,e,n,i);if(!r.toLoad.length){if(!r.pending.length)i();return null}r.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:true},n)}loadOne(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const n=t.split("|");const i=n[0];const s=n[1];this.read(i,s,"read",undefined,undefined,((n,r)=>{if(n)this.logger.warn(`${e}loading namespace ${s} for language ${i} failed`,n);if(!n&&r)this.logger.log(`${e}loaded namespace ${s} for language ${i}`,r);this.loaded(t,n,r)}))}saveMissing(t,e,n,i,s){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};let o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(n===undefined||n===null||n==="")return;if(this.backend?.create){const f={...r,isUpdate:s};const u=this.backend.create.bind(this.backend);if(u.length<6){try{let s;if(u.length===5){s=u(t,e,n,i,f)}else{s=u(t,e,n,i)}if(s&&typeof s.then==="function"){s.then((t=>o(null,t))).catch(o)}else{o(null,s)}}catch(t){o(t)}}else{u(t,e,n,i,o,f)}}if(!t||!t[0])return;this.store.addResource(t[0],e,n,i)}}const J=()=>({debug:false,initAsync:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,supportedLngs:false,nonExplicitSupportedLngs:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:false,saveMissing:false,updateMissing:false,saveMissingTo:"fallback",saveMissingPlurals:true,missingKeyHandler:false,missingInterpolationHandler:false,postProcess:false,postProcessPassResolved:false,returnNull:false,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:false,parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]==="object")e=t[1];if(s(t[1]))e.defaultValue=t[1];if(s(t[2]))e.tDescription=t[2];if(typeof t[2]==="object"||typeof t[3]==="object"){const n=t[3]||t[2];Object.keys(n).forEach((t=>{e[t]=n[t]}))}return e},interpolation:{escapeValue:true,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:true}});const X=t=>{if(s(t.ns))t.ns=[t.ns];if(s(t.fallbackLng))t.fallbackLng=[t.fallbackLng];if(s(t.fallbackNS))t.fallbackNS=[t.fallbackNS];if(t.supportedLngs?.indexOf?.("cimode")<0){t.supportedLngs=t.supportedLngs.concat(["cimode"])}if(typeof t.initImmediate==="boolean")t.initAsync=t.initImmediate;return t};const Y=()=>{};const W=t=>{const e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach((e=>{if(typeof t[e]==="function"){t[e]=t[e].bind(t)}}))};class G extends R{constructor(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let e=arguments.length>1?arguments[1]:undefined;super();this.options=X(t);this.services={};this.logger=L;this.modules={external:[]};W(this);if(e&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync){this.init(t,e);return this}setTimeout((()=>{this.init(t,e)}),0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let n=arguments.length>1?arguments[1]:undefined;this.isInitializing=true;if(typeof e==="function"){n=e;e={}}if(e.defaultNS==null&&e.ns){if(s(e.ns)){e.defaultNS=e.ns}else if(e.ns.indexOf("translation")<0){e.defaultNS=e.ns[0]}}const i=J();this.options={...i,...this.options,...X(e)};this.options.interpolation={...i.interpolation,...this.options.interpolation};if(e.keySeparator!==undefined){this.options.userDefinedKeySeparator=e.keySeparator}if(e.nsSeparator!==undefined){this.options.userDefinedNsSeparator=e.nsSeparator}const o=t=>{if(!t)return null;if(typeof t==="function")return new t;return t};if(!this.options.isClone){if(this.modules.logger){L.init(o(this.modules.logger),this.options)}else{L.init(null,this.options)}let e;if(this.modules.formatter){e=this.modules.formatter}else{e=K}const n=new E(this.options);this.store=new P(this.options.resources,this.options);const s=this.services;s.logger=L;s.resourceStore=this.store;s.languageUtils=n;s.pluralResolver=new U(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});if(e&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)){s.formatter=o(e);s.formatter.init(s,this.options);this.options.interpolation.format=s.formatter.format.bind(s.formatter)}s.interpolator=new q(this.options);s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)};s.backendConnector=new _(o(this.modules.backend),s.resourceStore,s,this.options);s.backendConnector.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++){i[s-1]=arguments[s]}t.emit(e,...i)}));if(this.modules.languageDetector){s.languageDetector=o(this.modules.languageDetector);if(s.languageDetector.init)s.languageDetector.init(s,this.options.detection,this.options)}if(this.modules.i18nFormat){s.i18nFormat=o(this.modules.i18nFormat);if(s.i18nFormat.init)s.i18nFormat.init(this)}this.translator=new z(this.services,this.options);this.translator.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++){i[s-1]=arguments[s]}t.emit(e,...i)}));this.modules.external.forEach((t=>{if(t.init)t.init(this)}))}this.format=this.options.interpolation.format;if(!n)n=Y;if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);if(t.length>0&&t[0]!=="dev")this.options.lng=t[0]}if(!this.services.languageDetector&&!this.options.lng){this.logger.warn("init: no languageDetector is used and no lng is defined")}const f=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];f.forEach((e=>{this[e]=function(){return t.store[e](...arguments)}}));const u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((e=>{this[e]=function(){t.store[e](...arguments);return t}}));const a=r();const c=()=>{const t=(t,e)=>{this.isInitializing=false;if(this.isInitialized&&!this.initializedStoreOnce)this.logger.warn("init: i18next is already initialized. You should call init just once!");this.isInitialized=true;if(!this.options.isClone)this.logger.log("initialized",this.options);this.emit("initialized",this.options);a.resolve(e);n(t,e)};if(this.languages&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};if(this.options.resources||!this.options.initAsync){c()}else{setTimeout(c,0)}return a}loadResources(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Y;let n=e;const i=s(t)?t:this.language;if(typeof t==="function")n=t;if(!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const t=[];const e=e=>{if(!e)return;if(e==="cimode")return;const n=this.services.languageUtils.toResolveHierarchy(e);n.forEach((e=>{if(e==="cimode")return;if(t.indexOf(e)<0)t.push(e)}))};if(!i){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.forEach((t=>e(t)))}else{e(i)}this.options.preload?.forEach?.((t=>e(t)));this.services.backendConnector.load(t,this.options.ns,(t=>{if(!t&&!this.resolvedLanguage&&this.language)this.setResolvedLanguage(this.language);n(t)}))}else{n(null)}}reloadResources(t,e,n){const i=r();if(typeof t==="function"){n=t;t=undefined}if(typeof e==="function"){n=e;e=undefined}if(!t)t=this.languages;if(!e)e=this.options.ns;if(!n)n=Y;this.services.backendConnector.reload(t,e,(t=>{i.resolve();n(t)}));return i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");if(t.type==="backend"){this.modules.backend=t}if(t.type==="logger"||t.log&&t.warn&&t.error){this.modules.logger=t}if(t.type==="languageDetector"){this.modules.languageDetector=t}if(t.type==="i18nFormat"){this.modules.i18nFormat=t}if(t.type==="postProcessor"){A.addPostProcessor(t)}if(t.type==="formatter"){this.modules.formatter=t}if(t.type==="3rdParty"){this.modules.external.push(t)}return this}setResolvedLanguage(t){if(!t||!this.languages)return;if(["cimode","dev"].indexOf(t)>-1)return;for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(["cimode","dev"].indexOf(e)>-1)continue;if(this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const i=r();this.emit("languageChanging",t);const o=t=>{this.language=t;this.languages=this.services.languageUtils.toResolveHierarchy(t);this.resolvedLanguage=undefined;this.setResolvedLanguage(t)};const f=(t,s)=>{if(s){o(s);this.translator.changeLanguage(s);this.isLanguageChangingTo=undefined;this.emit("languageChanged",s);this.logger.log("languageChanged",s)}else{this.isLanguageChangingTo=undefined}i.resolve((function(){return n.t(...arguments)}));if(e)e(t,(function(){return n.t(...arguments)}))};const u=e=>{if(!t&&!e&&this.services.languageDetector)e=[];const n=s(e)?e:this.services.languageUtils.getBestMatchFromCodes(e);if(n){if(!this.language){o(n)}if(!this.translator.language)this.translator.changeLanguage(n);this.services.languageDetector?.cacheUserLanguage?.(n)}this.loadResources(n,(t=>{f(t,n)}))};if(!t&&this.services.languageDetector&&!this.services.languageDetector.async){u(this.services.languageDetector.detect())}else if(!t&&this.services.languageDetector&&this.services.languageDetector.async){if(this.services.languageDetector.detect.length===0){this.services.languageDetector.detect().then(u)}else{this.services.languageDetector.detect(u)}}else{u(t)}return i}getFixedT(t,e,n){var i=this;const r=function(t,e){let s;if(typeof e!=="object"){for(var o=arguments.length,f=new Array(o>2?o-2:0),u=2;u<o;u++){f[u-2]=arguments[u]}s=i.options.overloadTranslationOptionHandler([t,e].concat(f))}else{s={...e}}s.lng=s.lng||r.lng;s.lngs=s.lngs||r.lngs;s.ns=s.ns||r.ns;if(s.keyPrefix!=="")s.keyPrefix=s.keyPrefix||n||r.keyPrefix;const a=i.options.keySeparator||".";let c;if(s.keyPrefix&&Array.isArray(t)){c=t.map((t=>`${s.keyPrefix}${a}${t}`))}else{c=s.keyPrefix?`${s.keyPrefix}${a}${t}`:t}return i.t(c,s)};if(s(t)){r.lng=t}else{r.lngs=t}r.ns=e;r.keyPrefix=n;return r}t(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.translator?.translate(...e)}exists(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}return this.translator?.exists(...e)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.isInitialized){this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages);return false}if(!this.languages||!this.languages.length){this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages);return false}const n=e.lng||this.resolvedLanguage||this.languages[0];const i=this.options?this.options.fallbackLng:false;const s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return true;const r=(t,e)=>{const n=this.services.backendConnector.state[`${t}|${e}`];return n===-1||n===0||n===2};if(e.precheck){const t=e.precheck(this,r);if(t!==undefined)return t}if(this.hasResourceBundle(n,t))return true;if(!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages)return true;if(r(n,t)&&(!i||r(s,t)))return true;return false}loadNamespaces(t,e){const n=r();if(!this.options.ns){if(e)e();return Promise.resolve()}if(s(t))t=[t];t.forEach((t=>{if(this.options.ns.indexOf(t)<0)this.options.ns.push(t)}));this.loadResources((t=>{n.resolve();if(e)e(t)}));return n}loadLanguages(t,e){const n=r();if(s(t))t=[t];const i=this.options.preload||[];const o=t.filter((t=>i.indexOf(t)<0&&this.services.languageUtils.isSupportedCode(t)));if(!o.length){if(e)e();return Promise.resolve()}this.options.preload=i.concat(o);this.loadResources((t=>{n.resolve();if(e)e(t)}));return n}dir(t){if(!t)t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language);if(!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];const n=this.services?.languageUtils||new E(J());return e.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let e=arguments.length>1?arguments[1]:undefined;return new G(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Y;const n=t.forkResourceStore;if(n)delete t.forkResourceStore;const i={...this.options,...t,...{isClone:true}};const s=new G(i);if(t.debug!==undefined||t.prefix!==undefined){s.logger=s.logger.clone(t)}const r=["store","services","language"];r.forEach((t=>{s[t]=this[t]}));s.services={...this.services};s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)};if(n){const t=Object.keys(this.store.data).reduce(((t,e)=>{t[e]={...this.store.data[e]};return Object.keys(t[e]).reduce(((n,i)=>{n[i]={...t[e][i]};return n}),{})}),{});s.store=new P(t,i);s.services.resourceStore=s.store}s.translator=new z(s.services,i);s.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}s.emit(t,...n)}));s.init(i,e);s.translator.options=i;s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)};return s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Z=G.createInstance();Z.createInstance=G.createInstance;function Q(){return window}function tt(){return{version:"3.27.1",headlessVersion:t}}function et(t){if(Q()[t]){return}Q()[t]=tt()}const nt={af:()=>import("./p-3c099031.js").then((function(t){return t.a})),am:()=>import("./p-c87690e2.js").then((function(t){return t.a})),"ar-DZ":()=>import("./p-7c3db1b6.js").then((function(t){return t.a})),"ar-IQ":()=>import("./p-9659caca.js").then((function(t){return t.a})),"ar-KW":()=>import("./p-6f1d2845.js").then((function(t){return t.a})),"ar-LY":()=>import("./p-a13c6436.js").then((function(t){return t.a})),"ar-MA":()=>import("./p-c22943b1.js").then((function(t){return t.a})),"ar-SA":()=>import("./p-054edfff.js").then((function(t){return t.a})),"ar-TN":()=>import("./p-09fd85b0.js").then((function(t){return t.a})),ar:()=>import("./p-b1271f93.js").then((function(t){return t.a})),az:()=>import("./p-efab8b3e.js").then((function(t){return t.a})),be:()=>import("./p-b1cf2121.js").then((function(t){return t.b})),bg:()=>import("./p-23fe0271.js").then((function(t){return t.b})),bi:()=>import("./p-471f92a1.js").then((function(t){return t.b})),bm:()=>import("./p-8e3bce04.js").then((function(t){return t.b})),"bn-BD":()=>import("./p-d023b747.js").then((function(t){return t.b})),bn:()=>import("./p-b532c3b4.js").then((function(t){return t.b})),bo:()=>import("./p-b65e1ace.js").then((function(t){return t.b})),br:()=>import("./p-0a0bba8e.js").then((function(t){return t.b})),bs:()=>import("./p-c88f3b27.js").then((function(t){return t.b})),ca:()=>import("./p-4f69d4b6.js").then((function(t){return t.c})),cs:()=>import("./p-d3ff7338.js").then((function(t){return t.c})),cv:()=>import("./p-3269cb86.js").then((function(t){return t.c})),cy:()=>import("./p-b1df53e9.js").then((function(t){return t.c})),"de-AT":()=>import("./p-42b532d7.js").then((function(t){return t.d})),da:()=>import("./p-8202e9af.js").then((function(t){return t.d})),"de-CH":()=>import("./p-5ab08619.js").then((function(t){return t.d})),de:()=>import("./p-00299df3.js").then((function(t){return t.d})),dv:()=>import("./p-a887c4d4.js").then((function(t){return t.d})),el:()=>import("./p-fc7bfc8e.js").then((function(t){return t.e})),"en-AU":()=>import("./p-32cc14f7.js").then((function(t){return t.e})),"en-CA":()=>import("./p-a8260596.js").then((function(t){return t.e})),"en-GB":()=>import("./p-81d97ebc.js").then((function(t){return t.e})),"en-IE":()=>import("./p-5e08bfc5.js").then((function(t){return t.e})),"en-IL":()=>import("./p-2bad6025.js").then((function(t){return t.e})),"en-IN":()=>import("./p-f51cba86.js").then((function(t){return t.e})),"en-NZ":()=>import("./p-7e2b0488.js").then((function(t){return t.e})),"en-SG":()=>import("./p-453fd434.js").then((function(t){return t.e})),"en-TT":()=>import("./p-31b5e03e.js").then((function(t){return t.e})),eo:()=>import("./p-2bab8d88.js").then((function(t){return t.e})),en:()=>import("./p-64eaf609.js").then((function(t){return t.e})),"es-DO":()=>import("./p-7a8aa43b.js").then((function(t){return t.e})),"es-MX":()=>import("./p-75c7286f.js").then((function(t){return t.e})),"es-PR":()=>import("./p-3ce1b85f.js").then((function(t){return t.e})),"es-US":()=>import("./p-8a105c02.js").then((function(t){return t.e})),et:()=>import("./p-a96e28a4.js").then((function(t){return t.e})),es:()=>import("./p-543cdc32.js").then((function(t){return t.e})),eu:()=>import("./p-b4d42ed4.js").then((function(t){return t.e})),fa:()=>import("./p-8ba8e244.js").then((function(t){return t.f})),fo:()=>import("./p-262f73d0.js").then((function(t){return t.f})),fi:()=>import("./p-4a1063ca.js").then((function(t){return t.f})),"fr-CA":()=>import("./p-a7e47a8a.js").then((function(t){return t.f})),"fr-CH":()=>import("./p-46a7eb81.js").then((function(t){return t.f})),fr:()=>import("./p-bb9daef3.js").then((function(t){return t.f})),fy:()=>import("./p-6042ffd7.js").then((function(t){return t.f})),ga:()=>import("./p-26f44631.js").then((function(t){return t.g})),gd:()=>import("./p-75202177.js").then((function(t){return t.g})),"gom-LATN":()=>import("./p-d7998253.js").then((function(t){return t.g})),gl:()=>import("./p-50561ab0.js").then((function(t){return t.g})),gu:()=>import("./p-83a77107.js").then((function(t){return t.g})),he:()=>import("./p-5ceee30e.js").then((function(t){return t.h})),hi:()=>import("./p-1882fbca.js").then((function(t){return t.h})),hr:()=>import("./p-b8a4aa4b.js").then((function(t){return t.h})),hu:()=>import("./p-0c3fbc77.js").then((function(t){return t.h})),ht:()=>import("./p-43f31fbe.js").then((function(t){return t.h})),"hy-AM":()=>import("./p-f56ce40e.js").then((function(t){return t.h})),id:()=>import("./p-6557bf7e.js").then((function(t){return t.i})),is:()=>import("./p-ace08720.js").then((function(t){return t.i})),"it-CH":()=>import("./p-f1f21d6e.js").then((function(t){return t.i})),it:()=>import("./p-81838009.js").then((function(t){return t.i})),ja:()=>import("./p-ac2eb8a3.js").then((function(t){return t.j})),jv:()=>import("./p-bba54ad4.js").then((function(t){return t.j})),ka:()=>import("./p-d346fda6.js").then((function(t){return t.k})),kk:()=>import("./p-85533b73.js").then((function(t){return t.k})),km:()=>import("./p-713d90d0.js").then((function(t){return t.k})),kn:()=>import("./p-c4c45b46.js").then((function(t){return t.k})),ko:()=>import("./p-197861d9.js").then((function(t){return t.k})),ku:()=>import("./p-b6eaf7f2.js").then((function(t){return t.k})),ky:()=>import("./p-61ce88da.js").then((function(t){return t.k})),lb:()=>import("./p-23045923.js").then((function(t){return t.l})),lo:()=>import("./p-cb7d2749.js").then((function(t){return t.l})),lt:()=>import("./p-ce6a7078.js").then((function(t){return t.l})),lv:()=>import("./p-411f2bcd.js").then((function(t){return t.l})),me:()=>import("./p-645e157a.js").then((function(t){return t.m})),mi:()=>import("./p-bd5ec388.js").then((function(t){return t.m})),mk:()=>import("./p-32cdf6c7.js").then((function(t){return t.m})),ml:()=>import("./p-0362d1fa.js").then((function(t){return t.m})),mn:()=>import("./p-8753fa48.js").then((function(t){return t.m})),mr:()=>import("./p-3ff71c40.js").then((function(t){return t.m})),"ms-MY":()=>import("./p-b7727e4c.js").then((function(t){return t.m})),ms:()=>import("./p-55c53d7a.js").then((function(t){return t.m})),mt:()=>import("./p-d8cf9350.js").then((function(t){return t.m})),my:()=>import("./p-f4289c7e.js").then((function(t){return t.m})),nb:()=>import("./p-7cbb15ea.js").then((function(t){return t.n})),ne:()=>import("./p-45fe81ce.js").then((function(t){return t.n})),"nl-BE":()=>import("./p-f3cd0211.js").then((function(t){return t.n})),nl:()=>import("./p-884a6d47.js").then((function(t){return t.n})),pl:()=>import("./p-b50b877c.js").then((function(t){return t.p})),"pt-BR":()=>import("./p-4f22eacd.js").then((function(t){return t.p})),pt:()=>import("./p-b0d972cd.js").then((function(t){return t.p})),rn:()=>import("./p-581d79f1.js").then((function(t){return t.r})),ro:()=>import("./p-4fb790a7.js").then((function(t){return t.r})),ru:()=>import("./p-5306660e.js").then((function(t){return t.r})),rw:()=>import("./p-b67e688b.js").then((function(t){return t.r})),sd:()=>import("./p-c71d32b8.js").then((function(t){return t.s})),se:()=>import("./p-428e5beb.js").then((function(t){return t.s})),si:()=>import("./p-639d46d2.js").then((function(t){return t.s})),sk:()=>import("./p-388dd6d3.js").then((function(t){return t.s})),sl:()=>import("./p-00f52fed.js").then((function(t){return t.s})),sq:()=>import("./p-2980dae7.js").then((function(t){return t.s})),"sr-CYRL":()=>import("./p-4e7f106a.js").then((function(t){return t.s})),ss:()=>import("./p-b738cbbc.js").then((function(t){return t.s})),"sv-FI":()=>import("./p-830c2d51.js").then((function(t){return t.s})),sr:()=>import("./p-e7feeccc.js").then((function(t){return t.s})),sv:()=>import("./p-e4be788b.js").then((function(t){return t.s})),sw:()=>import("./p-8a78f354.js").then((function(t){return t.s})),ta:()=>import("./p-f2ff8291.js").then((function(t){return t.t})),te:()=>import("./p-84bb7a02.js").then((function(t){return t.t})),tet:()=>import("./p-c08286c7.js").then((function(t){return t.t})),tg:()=>import("./p-b84bfa14.js").then((function(t){return t.t})),th:()=>import("./p-8792b623.js").then((function(t){return t.t})),tk:()=>import("./p-a7a17cb4.js").then((function(t){return t.t})),"tl-PH":()=>import("./p-80d26cad.js").then((function(t){return t.t})),tlh:()=>import("./p-dbaccc34.js").then((function(t){return t.t})),tr:()=>import("./p-9c4d6a70.js").then((function(t){return t.t})),tzl:()=>import("./p-a59b3b6c.js").then((function(t){return t.t})),"tzm-LATN":()=>import("./p-9ad32c93.js").then((function(t){return t.t})),tzm:()=>import("./p-eff31a13.js").then((function(t){return t.t})),"ug-CN":()=>import("./p-c0ccfcbe.js").then((function(t){return t.u})),uk:()=>import("./p-e36692c2.js").then((function(t){return t.u})),ur:()=>import("./p-e759fb8b.js").then((function(t){return t.u})),"uz-LATN":()=>import("./p-7819f99b.js").then((function(t){return t.u})),uz:()=>import("./p-fdf12072.js").then((function(t){return t.u})),vi:()=>import("./p-93d3253f.js").then((function(t){return t.v})),"x-PSEUDO":()=>import("./p-6bb4463b.js").then((function(t){return t.x})),yo:()=>import("./p-e13d41d3.js").then((function(t){return t.y})),"zh-CN":()=>import("./p-16e217b0.js").then((function(t){return t.z})),"zh-HK":()=>import("./p-75dd9c7a.js").then((function(t){return t.z})),"zh-TW":()=>import("./p-7a311621.js").then((function(t){return t.z})),zh:()=>import("./p-a7944a8b.js").then((function(t){return t.z})),"oc-LNC":()=>import("./p-89b21606.js").then((function(t){return t.o})),nn:()=>import("./p-5826d382.js").then((function(t){return t.n})),"pa-IN":()=>import("./p-ebe0100b.js").then((function(t){return t.p}))};const it=t=>console.warn(`Cannot load dayjs locale file for "${t}"`);const st=t=>{if(nt[t]){return t}if(t.includes("-")){const e=t.split("-")[0];if(nt[e]){return e}}return t};function rt(t){const n=st(t);if(!nt[n]){it(n);return}try{nt[n]().then((()=>e.locale(n)))}catch(t){it(n)}}function ot(t){"@babel/helpers - typeof";return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function ft(){return typeof XMLHttpRequest==="function"||(typeof XMLHttpRequest==="undefined"?"undefined":ot(XMLHttpRequest))==="object"}function ut(t){return!!t&&typeof t.then==="function"}function at(t){if(ut(t)){return t}return Promise.resolve(t)}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t,e,n){return(e=dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t){var e=pt(t,"string");return"symbol"==mt(e)?e:e+""}function pt(t,e){if("object"!=mt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=mt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function mt(t){"@babel/helpers - typeof";return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}var bt=typeof fetch==="function"?fetch:undefined;if(typeof global!=="undefined"&&global.fetch){bt=global.fetch}else if(typeof window!=="undefined"&&window.fetch){bt=window.fetch}var gt;if(ft()){if(typeof global!=="undefined"&&global.XMLHttpRequest){gt=global.XMLHttpRequest}else if(typeof window!=="undefined"&&window.XMLHttpRequest){gt=window.XMLHttpRequest}}var yt;if(typeof ActiveXObject==="function"){if(typeof global!=="undefined"&&global.ActiveXObject){yt=global.ActiveXObject}else if(typeof window!=="undefined"&&window.ActiveXObject){yt=window.ActiveXObject}}if(typeof bt!=="function")bt=undefined;if(!bt&&!gt&&!yt){try{import("./p-6f1cd43d.js").then((function(t){return t.b})).then((function(t){bt=t.default})).catch((function(){}))}catch(t){}}var jt=function t(e,n){if(n&&mt(n)==="object"){var i="";for(var s in n){i+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s])}if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e};var vt=function t(e,n,i,s){var r=function t(e){if(!e.ok)return i(e.statusText||"Error",{status:e.status});e.text().then((function(t){i(null,{status:e.status,data:t})})).catch(i)};if(s){var o=s(e,n);if(o instanceof Promise){o.then(r).catch(i);return}}if(typeof fetch==="function"){fetch(e,n).then(r).catch(i)}else{bt(e,n).then(r).catch(i)}};var wt=false;var $t=function t(e,n,i,s){if(e.queryStringParams){n=jt(n,e.queryStringParams)}var r=ht({},typeof e.customHeaders==="function"?e.customHeaders():e.customHeaders);if(typeof window==="undefined"&&typeof global!=="undefined"&&typeof global.process!=="undefined"&&global.process.versions&&global.process.versions.node){r["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")}if(i)r["Content-Type"]="application/json";var o=typeof e.requestOptions==="function"?e.requestOptions(i):e.requestOptions;var f=ht({method:i?"POST":"GET",body:i?e.stringify(i):undefined,headers:r},wt?{}:o);var u=typeof e.alternateFetch==="function"&&e.alternateFetch.length>=1?e.alternateFetch:undefined;try{vt(n,f,s,u)}catch(t){if(!o||Object.keys(o).length===0||!t.message||t.message.indexOf("not implemented")<0){return s(t)}try{Object.keys(o).forEach((function(t){delete f[t]}));vt(n,f,s,u);wt=true}catch(t){s(t)}}};var Ot=function t(e,n,i,s){if(i&&mt(i)==="object"){i=jt("",i).slice(1)}if(e.queryStringParams){n=jt(n,e.queryStringParams)}try{var r=gt?new gt:new yt("MSXML2.XMLHTTP.3.0");r.open(i?"POST":"GET",n,1);if(!e.crossDomain){r.setRequestHeader("X-Requested-With","XMLHttpRequest")}r.withCredentials=!!e.withCredentials;if(i){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}if(r.overrideMimeType){r.overrideMimeType("application/json")}var o=e.customHeaders;o=typeof o==="function"?o():o;if(o){for(var f in o){r.setRequestHeader(f,o[f])}}r.onreadystatechange=function(){r.readyState>3&&s(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})};r.send(i)}catch(t){console&&console.log(t)}};var St=function t(e,n,i,s){if(typeof i==="function"){s=i;i=undefined}s=s||function(){};if(bt&&n.indexOf("file:")!==0){return $t(e,n,i,s)}if(ft()||typeof ActiveXObject==="function"){return Ot(e,n,i,s)}s(new Error("No fetch and no xhr implementation found!"))};function kt(t){"@babel/helpers - typeof";return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ct(i.key),i)}}function Pt(t,e,n){return e&&Rt(t.prototype,e),n&&Rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t,e,n){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ct(t){var e=Tt(t,"string");return"symbol"==kt(e)?e:e+""}function Tt(t,e){if("object"!=kt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=kt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var zt=function t(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function t(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function t(e,n,i){return At({},n,i||"")},parseLoadPayload:function t(e,n){return undefined},request:St,reloadInterval:typeof window!=="undefined"?false:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:false,withCredentials:false,overrideMimeType:false,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}};var Et=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Lt(this,t);this.services=e;this.options=n;this.allOptions=i;this.type="backend";this.init(e,n,i)}return Pt(t,[{key:"init",value:function t(e){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.services=e;this.options=Nt(Nt(Nt({},zt()),this.options||{}),i);this.allOptions=s;if(this.services&&this.options.reloadInterval){var r=setInterval((function(){return n.reload()}),this.options.reloadInterval);if(kt(r)==="object"&&typeof r.unref==="function")r.unref()}}},{key:"readMulti",value:function t(e,n,i){this._readAny(e,e,n,n,i)}},{key:"read",value:function t(e,n,i){this._readAny([e],e,[n],n,i)}},{key:"_readAny",value:function t(e,n,i,s,r){var o=this;var f=this.options.loadPath;if(typeof this.options.loadPath==="function"){f=this.options.loadPath(e,i)}f=at(f);f.then((function(t){if(!t)return r(null,{});var f=o.services.interpolator.interpolate(t,{lng:e.join("+"),ns:i.join("+")});o.loadUrl(f,r,n,s)}))}},{key:"loadUrl",value:function t(e,n,i,s){var r=this;var o=typeof i==="string"?[i]:i;var f=typeof s==="string"?[s]:s;var u=this.options.parseLoadPayload(o,f);this.options.request(this.options,e,u,(function(t,o){if(o&&(o.status>=500&&o.status<600||!o.status))return n("failed loading "+e+"; status code: "+o.status,true);if(o&&o.status>=400&&o.status<500)return n("failed loading "+e+"; status code: "+o.status,false);if(!o&&t&&t.message){var f=t.message.toLowerCase();var u=["failed","fetch","network","load"].find((function(t){return f.indexOf(t)>-1}));if(u){return n("failed loading "+e+": "+t.message,true)}}if(t)return n(t,false);var a,c;try{if(typeof o.data==="string"){a=r.options.parse(o.data,i,s)}else{a=o.data}}catch(t){c="failed parsing "+e+" to json"}if(c)return n(c,false);n(null,a)}))}},{key:"create",value:function t(e,n,i,s,r){var o=this;if(!this.options.addPath)return;if(typeof e==="string")e=[e];var f=this.options.parsePayload(n,i,s);var u=0;var a=[];var c=[];e.forEach((function(t){var i=o.options.addPath;if(typeof o.options.addPath==="function"){i=o.options.addPath(t,n)}var s=o.services.interpolator.interpolate(i,{lng:t,ns:n});o.options.request(o.options,s,f,(function(t,n){u+=1;a.push(t);c.push(n);if(u===e.length){if(typeof r==="function")r(a,c)}}))}))}},{key:"reload",value:function t(){var e=this;var n=this.services,i=n.backendConnector,s=n.languageUtils,r=n.logger;var o=i.language;if(o&&o.toLowerCase()==="cimode")return;var f=[];var u=function t(e){var n=s.toResolveHierarchy(e);n.forEach((function(t){if(f.indexOf(t)<0)f.push(t)}))};u(o);if(this.allOptions.preload)this.allOptions.preload.forEach((function(t){return u(t)}));f.forEach((function(t){e.allOptions.ns.forEach((function(e){i.read(t,e,"read",null,null,(function(n,s){if(n)r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),n);if(!n&&s)r.log("loaded namespace ".concat(e," for language ").concat(t),s);i.loaded("".concat(t,"|").concat(e),n,s)}))}))}))}}])}();Et.type="backend";function It(t){const e=new URL("./",window.document.baseURI).href;const n=new URL(t,e);return n.origin!==window.location.origin?n.href:n.pathname}const Mt=["dev","en","fr","cs","da","de","el","es","fi","hu","id","it","ja","ko","nl","no","pl","pt","pt-br","ru","sv","th","tr","zh","zh-cn","zh-tw","zn","es-es"];const Ut="translation";function Vt(t){return Mt.includes(t.toLowerCase())}function Ht(t){return{loadPath:`${It(t.languageAssetsPath)}/{{lng}}.json?lng={{lng}}&ns={{ns}}`,request:async(t,e,n,i)=>{try{const[t,n]=e.split("?");const s=new URLSearchParams(n);const r=s.get("lng");const o=s.get("ns");if(!Vt(r)){throw new Error(`Unsupported locale "${r}"`)}if(o!==Ut){throw new Error(`Unsupported namespace "${o}"`)}const f=await fetch(t);if(f.status!==200&&f.status!==304){throw new Error(`Unsuccessful request returned status "${f.status}"`)}i(null,{status:f.status,data:await f.json()})}catch(t){i(t,{status:404,data:""})}}}}function qt(t){return t.i18n.use(Et).init({debug:t.logLevel==="debug",lng:t.language,nsSeparator:"___",fallbackLng:"en",backend:Ht(t),interpolation:{escape:t=>i.sanitize(t)},compatibilityJSON:"v4"})}const Bt=(t,e)=>`A ${e} is configured on the ${t} interface element, but the ${t} interface was initialized with an engine. You should only configure the ${e} in the target engine.`;class Dt{constructor(t,e){this.atomicInterface=t;this.hangingComponentsInitialization=[];et(e);const{connectedCallback:i,render:s}=t;t.connectedCallback=()=>{this.i18nPromise=qt(t);return i&&i.call(t)};t.render=()=>{if(t.error){return n("atomic-component-error",{element:t.host,error:t.error})}return s&&s.call(t)}}onComponentInitializing(t){t.preventDefault();t.stopPropagation();if(this.atomicInterface.engine){t.detail(this.atomicInterface.bindings);return}this.hangingComponentsInitialization.push(t)}async onInitialization(t){if(this.atomicInterface.engine){this.atomicInterface.engine.logger.warn(`The ${this.interfaceTagname} component "initialize" has already been called.`,this.atomicInterface.host);return}this.atomicInterface.updateIconAssetsPath();t();if(this.atomicInterface.registerFieldsToInclude){this.atomicInterface.registerFieldsToInclude()}rt(this.language);await this.i18nPromise;this.initComponents()}onAnalyticsChange(){const{engine:t,analytics:e}=this.atomicInterface;if(!this.engineIsCreated(t)){return}if(!e){t.disableAnalytics();return}t.enableAnalytics()}onLanguageChange(){const{i18n:t,language:e}=this.atomicInterface;rt(this.language);const{resolve:n,promise:i}=Promise.withResolvers();new Et(t.services,Ht(this.atomicInterface)).read(this.language,Ut,(async(i,s)=>{t.addResourceBundle(this.language,Ut,s,true,false);await t.changeLanguage(e);n()}));return i}engineIsCreated(t){if(!t){console.error(`You have to call "initialize" on the ${this.interfaceTagname} component before modifying the props or calling other public methods.`,this.atomicInterface.host);return false}return true}get interfaceTagname(){return this.atomicInterface.host.tagName.toLowerCase()}initComponents(){this.hangingComponentsInitialization.forEach((t=>t.detail(this.atomicInterface.bindings)))}get language(){return this.atomicInterface.language||"en"}}export{Dt as C,tt as g,Z as i,Bt as m};
//# sourceMappingURL=p-786c1c0d.js.map