import{u as t}from"./p-7dd93292.js";import{g as s}from"./p-c3f41fca.js";import{o as i,d as e}from"./p-cbd58764.js";const h="result-component";class r{constructor(s){this.props=s;this.props.store.setLoadingFlag(this.props.loadingFlag);this.props.store.state.resultList=this;this.updateBreakpointsOnce=i((()=>t(this.props.host)))}updateBreakpoints(){this.updateBreakpointsOnce()}getResultId(t,s,i,e){return`${t}${s}${i}${e}`}setNewResultRef(t,i){if(i===0){this.firstResultEl=t}if(i!==this.indexOfResultToFocus){return}if(!t.children.length&&!t.shadowRoot?.children.length){return}this.indexOfResultToFocus=undefined;const e=s(t)??t;this.props.nextNewItemTarget.setTarget(e)}focusOnNextNewResult(){this.indexOfResultToFocus=this.props.getCurrentNumberOfItems();this.props.nextNewItemTarget.focusOnNextTarget()}async focusOnFirstResultAfterNextSearch(){await e();return new Promise((t=>{if(this.props.getIsLoading()){this.firstResultEl=undefined}const i=this.props.engineSubscribe((async()=>{await e();if(!this.props.getIsLoading()&&this.firstResultEl){const e=s(this.firstResultEl)??this.firstResultEl;this.props.nextNewItemTarget.setTarget(e);this.props.nextNewItemTarget.focus();this.firstResultEl=undefined;i();t()}}))}))}}export{r as I,h as r};
//# sourceMappingURL=p-f9c6ba7b.js.map