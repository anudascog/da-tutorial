{"file":"stencil-facet-search-matches-6eb982ff.js","mappings":"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","names":["search","h","SearchIcon","Button","CloseIcon","escape"],"sources":["src/components/common/facets/facet-search/stencil-facet-search-input.tsx","src/components/common/facets/facet-search/stencil-facet-search-matches.tsx"],"sourcesContent":["import {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport CloseIcon from '../../../../images/close.svg';\nimport SearchIcon from '../../../../images/search.svg';\nimport {Button} from '../../stencil-button';\n\ninterface FacetSearchInputProps {\n  label: string;\n  query: string;\n  i18n: i18n;\n  onClear(): void;\n  onChange(value: string): void;\n}\n\nexport const FacetSearchInput: FunctionalComponent<FacetSearchInputProps> = (\n  props\n) => {\n  const label = props.i18n.t(props.label);\n  const search = props.i18n.t('facet-search-input');\n  const facetSearch = props.i18n.t('facet-search', {label});\n  const clear = props.i18n.t('clear');\n  let inputRef: HTMLInputElement | undefined;\n\n  return (\n    <div class=\"mt-3 px-2\" part=\"search-wrapper\">\n      <div class=\"relative h-10\">\n        <input\n          part=\"search-input\"\n          class=\"input-primary placeholder-neutral-dark group h-full w-full px-9 text-sm\"\n          type=\"text\"\n          placeholder={search}\n          aria-label={facetSearch}\n          value={props.query}\n          onInput={(e) => props.onChange((e.target as HTMLInputElement).value)}\n          ref={(ref) => (inputRef = ref)}\n        />\n        <div class=\"search-icon text-on-background pointer-events-none absolute left-0 inline-flex h-full w-9 items-center justify-center\">\n          <atomic-icon part=\"search-icon\" icon={SearchIcon}></atomic-icon>\n        </div>\n        {props.query !== '' && (\n          <Button\n            style=\"text-transparent\"\n            title={clear}\n            class=\"search-clear-button absolute top-px right-px bottom-px inline-flex w-9 items-center justify-center\"\n            onClick={() => {\n              props.onClear();\n              inputRef!.focus();\n            }}\n          >\n            <atomic-icon\n              part=\"search-clear-button\"\n              icon={CloseIcon}\n            ></atomic-icon>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n","import {FunctionalComponent, h} from '@stencil/core';\nimport escape from 'escape-html';\nimport {i18n} from 'i18next';\nimport {Button} from '../../stencil-button';\n\ninterface FacetSearchMatchesProps {\n  i18n: i18n;\n  query: string;\n  numberOfMatches: number;\n  hasMoreMatches: boolean;\n  showMoreMatches?: () => void;\n}\n\n//TODO: change to noMatchesFound & remove the key in https://coveord.atlassian.net/browse/KIT-3368\nfunction matchesFound(\n  key: 'more-matches-for' | 'no-matches-found-for',\n  query: string,\n  i18n: i18n\n) {\n  return i18n.t(key, {\n    query: `<span class=\"font-bold italic text-on-background\" part=\"matches-query\">${escape(\n      query\n    )}</span>`,\n    interpolation: {escapeValue: false},\n  });\n}\n\nfunction clickableMoreMatchesFound(query: string, i18n: i18n) {\n  return i18n.t('more-matches-for', {\n    query: `<span class=\"font-bold italic\" part=\"matches-query\">${escape(\n      query\n    )}</span>`,\n    interpolation: {escapeValue: false},\n  });\n}\n\nexport const FacetSearchMatches: FunctionalComponent<\n  FacetSearchMatchesProps\n> = (props) => {\n  if (!props.numberOfMatches) {\n    return (\n      <div class=\"px-2\">\n        <div\n          part=\"no-matches\"\n          class=\"bg-neutral-light text-neutral-dark truncate rounded p-3 text-sm\"\n          innerHTML={matchesFound(\n            'no-matches-found-for',\n            props.query,\n            props.i18n\n          )}\n        ></div>\n      </div>\n    );\n  }\n\n  if (props.hasMoreMatches) {\n    if (props.showMoreMatches) {\n      return (\n        <div class=\"px-2\">\n          <Button\n            style=\"text-primary\"\n            class=\"mt-3 p-2\"\n            onClick={props.showMoreMatches}\n          >\n            <div\n              part=\"more-matches\"\n              class=\"truncate text-sm\"\n              innerHTML={clickableMoreMatchesFound(props.query, props.i18n)}\n            ></div>\n          </Button>\n        </div>\n      );\n    }\n    return (\n      <div class=\"px-2\">\n        <div\n          part=\"more-matches\"\n          class=\"text-neutral-dark mt-3 truncate text-sm\"\n          innerHTML={matchesFound('more-matches-for', props.query, props.i18n)}\n        ></div>\n      </div>\n    );\n  }\n};\n"],"version":3}