{"version":3,"names":["icons","SEARCH","SearchIcon","CLICK","DocumentIcon","VIEW","QuickviewIcon","CUSTOM","PointIcon","TICKET_CREATION","BookmarkIcon","UserAction","bindings","action","renderActionTimestamp","hours","minutes","parseTimestampToDateDetails","timestamp","formattedHours","String","padStart","formattedMinutes","renderIcon","iconClasses","includes","actionType","h","icon","class","renderActionTitle","i18n","t","eventData","value","type","query","href","document","contentIdValue","target","title","searchHub","atomicInsightUserActionsSessionCss","AtomicInsightUserActionsSessionStyle0","AtomicInsightUserActionsSession","this","userActionsToDisplay","userActionsAfterCaseCreation","areActionsAfterCaseCreationVisible","connectedCallback","prepareUserActionsToDisplay","caseCreationIndex","userActions","findIndex","isCaseCreationSession","slice","showActionsAfterCaseCreation","renderSessionStartDate","year","month","dayOfWeek","day","startTimestamp","formatedStartDate","Flag","renderActions","actions","map","renderShowMoreActionsButton","btnClasses","label","count","length","ThreeDotsIcon","Button","style","part","ariaLabel","onClick","bind","render","isShowMoreActionsButtonVisible","key","__decorate","InitializeBindings","atomicInsightUserActionsTimelineCss","AtomicInsightUserActionsTimelineStyle0","AtomicInsightUserActionsTimeline","excludedCustomActions","followingSessionsAreVisible","precedingSessionsAreVisible","initialize","buildInsightUserActions","engine","options","ticketCreationDate","ticketCreationDateTime","fetchUserActions","userId","toggleFollowingSessions","togglePrecedingSessions","renderSessions","sessions","renderSeparator","testId","start","renderToggleFollowingSessionsButton","ArrowDownIcon","ArrowUpIcon","renderTogglePrecedingSessionsButton","renderFollowingSessionsSection","userActionsState","timeline","followingSessions","renderPrecedingSessionsSection","precedingSessions","renderTimeline","session","renderNoUserActionsScreen","NoItemsContainer","MagnifyingGlass","areUserActionsAvailable","hasError","error","BindStateToController"],"sources":["src/components/insight/user-actions/atomic-insight-user-actions-session/user-action.tsx","src/components/insight/user-actions/atomic-insight-user-actions-session/atomic-insight-user-actions-session.pcss?tag=atomic-insight-user-actions-session&encapsulation=shadow","src/components/insight/user-actions/atomic-insight-user-actions-session/atomic-insight-user-actions-session.tsx","src/components/insight/user-actions/atomic-insight-user-actions-timeline/atomic-insight-user-actions-timeline.pcss?tag=atomic-insight-user-actions-timeline&encapsulation=shadow","src/components/insight/user-actions/atomic-insight-user-actions-timeline/atomic-insight-user-actions-timeline.tsx"],"sourcesContent":["import {UserAction as IUserAction} from '@coveo/headless/insight';\nimport {FunctionalComponent, h} from '@stencil/core';\nimport BookmarkIcon from '../../../../images/bookmark.svg';\nimport DocumentIcon from '../../../../images/document.svg';\nimport PointIcon from '../../../../images/point.svg';\nimport QuickviewIcon from '../../../../images/quickview.svg';\nimport SearchIcon from '../../../../images/search.svg';\nimport {parseTimestampToDateDetails} from '../../../../utils/date-utils';\nimport {InsightBindings} from '../../atomic-insight-interface/atomic-insight-interface';\n\nconst icons = {\n  SEARCH: SearchIcon,\n  CLICK: DocumentIcon,\n  VIEW: QuickviewIcon,\n  CUSTOM: PointIcon,\n  TICKET_CREATION: BookmarkIcon,\n};\n\ninterface UserAction {\n  action: IUserAction;\n  bindings: InsightBindings;\n}\n\nexport const UserAction: FunctionalComponent<UserAction> = ({\n  bindings,\n  action,\n}) => {\n  const renderActionTimestamp = () => {\n    const {hours, minutes} = parseTimestampToDateDetails(action.timestamp);\n\n    const formattedHours = String(hours).padStart(2, '0');\n    const formattedMinutes = String(minutes).padStart(2, '0');\n\n    return `${formattedHours}:${formattedMinutes}`;\n  };\n\n  const renderIcon = () => {\n    const iconClasses = `w-3 h-3 ${['CLICK', 'VIEW'].includes(action.actionType) ? 'text-primary' : ''}`;\n\n    return (\n      <atomic-icon\n        icon={icons[action.actionType]}\n        class={iconClasses}\n      ></atomic-icon>\n    );\n  };\n\n  const renderActionTitle = () => {\n    switch (action.actionType) {\n      case 'TICKET_CREATION':\n        return (\n          <div class=\"ticket-creation-action__text text-xs font-semibold\">\n            {bindings.i18n.t('ticket-created')}\n          </div>\n        );\n      case 'CUSTOM':\n        return (\n          <div class=\"text-xs font-semibold\">\n            {action.eventData?.value ?? action.eventData?.type}\n          </div>\n        );\n      case 'SEARCH':\n        return (\n          <div class=\"text-xs font-semibold\">\n            {action.query || bindings.i18n.t('empty-search')}\n          </div>\n        );\n      case 'VIEW':\n        return (\n          <a\n            href={action.document?.contentIdValue}\n            class=\"text-primary text-xs font-semibold\"\n            target=\"_blank\"\n          >\n            {action.document?.title}\n          </a>\n        );\n      case 'CLICK':\n        return (\n          <div class=\"text-xs font-semibold\">{action.document?.title}</div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div class=\"flex\">\n      <div class=\"flex-none pr-2\">\n        <div class=\"flex justify-center py-1\">{renderIcon()}</div>\n        <div class=\"flex justify-center py-1\">\n          <div class=\"user-action__separator h-7 w-0.5 rounded\"></div>\n        </div>\n      </div>\n      <div class=\"flex-1\">\n        {renderActionTitle()}\n        <div class=\"text-neutral-dark text-xxs flex py-2 font-light\">\n          <div>{renderActionTimestamp()}</div>\n          <div class=\"px-2\">{action.searchHub}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","@import '../../../../global/global.pcss';\n\n.session-start-icon__container {\n  background-color: #fbb439;\n}\n\n.user-action__separator {\n  @apply bg-neutral;\n}\n\n.ticket-creation-action__text {\n  @apply text-success;\n}\n\n.text-xxs {\n  font-size: 0.625rem;\n}\n","import {UserAction as IUserAction} from '@coveo/headless/insight';\nimport {Component, h, Prop, Watch, State} from '@stencil/core';\nimport Flag from '../../../../images/flag.svg';\nimport ThreeDotsIcon from '../../../../images/three-dots.svg';\nimport {parseTimestampToDateDetails} from '../../../../utils/date-utils';\nimport {InitializeBindings} from '../../../../utils/initialization-utils';\nimport {Button} from '../../../common/stencil-button';\nimport {InsightBindings} from '../../atomic-insight-interface/atomic-insight-interface';\nimport {UserAction} from './user-action';\n\nexport type UserActionType =\n  | 'SEARCH'\n  | 'CLICK'\n  | 'TICKET_CREATION'\n  | 'VIEW'\n  | 'CUSTOM';\n\n/**\n * @internal\n * The `AtomicInsightUserActionSession` component displays all the user actions that took place during a specific user session.\n * @category Insight Panel\n * @example\n * <atomic-insight-user-actions-session userActions={actions} startTimestamp={1723035731}></atomic-insight-user-actions-session>\n */\n@Component({\n  tag: 'atomic-insight-user-actions-session',\n  styleUrl: 'atomic-insight-user-actions-session.pcss',\n  shadow: true,\n})\nexport class AtomicInsightUserActionsSession {\n  @InitializeBindings() public bindings!: InsightBindings;\n  @State() public error!: Error;\n\n  /**\n   * The start time of the session as a Unix timestamp.\n   */\n  @Prop() public startTimestamp!: number;\n  /**\n   * The list of user actions performed during the session.\n   */\n  @Prop() public userActions!: Array<IUserAction>;\n\n  private userActionsToDisplay: Array<IUserAction> = [];\n  private userActionsAfterCaseCreation: Array<IUserAction> = [];\n  @State() areActionsAfterCaseCreationVisible = false;\n\n  connectedCallback() {\n    this.prepareUserActionsToDisplay();\n  }\n\n  @Watch('userActions')\n  prepareUserActionsToDisplay() {\n    const caseCreationIndex = this.userActions.findIndex(\n      ({actionType}) => actionType === 'TICKET_CREATION'\n    );\n    const isCaseCreationSession = caseCreationIndex !== -1;\n\n    if (!isCaseCreationSession) {\n      this.userActionsToDisplay = this.userActions;\n      this.userActionsAfterCaseCreation = [];\n    } else {\n      this.userActionsToDisplay = this.userActions.slice(caseCreationIndex);\n      this.userActionsAfterCaseCreation = this.userActions.slice(\n        0,\n        caseCreationIndex\n      );\n    }\n  }\n\n  showActionsAfterCaseCreation() {\n    this.areActionsAfterCaseCreationVisible = true;\n  }\n\n  renderSessionStartDate() {\n    const caseCreationIndex = this.userActions.findIndex(\n      ({actionType}) => actionType === 'TICKET_CREATION'\n    );\n    const isCaseCreationSession = caseCreationIndex !== -1;\n\n    const {year, month, dayOfWeek, day} = parseTimestampToDateDetails(\n      this.startTimestamp\n    );\n\n    const formatedStartDate = `${dayOfWeek}. ${month} ${day}, ${year}`;\n    return (\n      <div class=\"flex items-center px-2 pb-3\">\n        {isCaseCreationSession ? (\n          <div class=\"session-start-icon__container mr-2 flex h-5 w-5 items-center justify-center rounded-full\">\n            <atomic-icon icon={Flag} class=\"h-3 w-3\"></atomic-icon>\n          </div>\n        ) : null}\n\n        <div class=\"flex-1 font-semibold\">{formatedStartDate}</div>\n      </div>\n    );\n  }\n\n  renderActions(actions: Array<IUserAction>) {\n    return (\n      <ol class=\"px-3\">\n        {actions?.map((action) => (\n          <UserAction action={action} bindings={this.bindings}></UserAction>\n        ))}\n      </ol>\n    );\n  }\n\n  renderShowMoreActionsButton() {\n    const btnClasses = 'flex items-center p-1 max-w-full';\n    const label = this.bindings.i18n.t('more-actions-in-session', {\n      count: this.userActionsAfterCaseCreation.length,\n    });\n    return (\n      <div\n        data-testid=\"show-more-actions-button\"\n        class=\"flex items-center px-3 pb-3\"\n      >\n        <div class=\"flex justify-center pr-2\">\n          <atomic-icon icon={ThreeDotsIcon} class=\"h-3 w-3\"></atomic-icon>\n        </div>\n        <div class=\"flex-1\">\n          <Button\n            style=\"text-primary\"\n            part=\"show-more-actions-button\"\n            class={btnClasses}\n            ariaLabel={label}\n            onClick={this.showActionsAfterCaseCreation.bind(this)}\n          >\n            <span class=\"truncate text-xs font-light\">{label}</span>\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  public render() {\n    const isShowMoreActionsButtonVisible =\n      !this.areActionsAfterCaseCreationVisible &&\n      !!this.userActionsAfterCaseCreation.length;\n\n    return (\n      <div>\n        {this.renderSessionStartDate()}\n\n        {this.areActionsAfterCaseCreationVisible && (\n          <div data-testid=\"more-actions-section\">\n            {this.renderActions(this.userActionsAfterCaseCreation)}\n          </div>\n        )}\n\n        {isShowMoreActionsButtonVisible && this.renderShowMoreActionsButton()}\n\n        {this.renderActions(this.userActionsToDisplay)}\n      </div>\n    );\n  }\n}\n","@import '../../../../global/global.pcss';\n\n.separator {\n  height: 1px;\n  background-color: #e0e1dd;\n}\n","import {\n  buildUserActions as buildInsightUserActions,\n  UserActions as InsightUserActions,\n  UserActionsState as InsightUserActionsState,\n  UserSession as InsightUserSession,\n} from '@coveo/headless/insight';\nimport {Component, h, State, Prop} from '@stencil/core';\nimport ArrowDownIcon from '../../../../images/big-arrow-down.svg';\nimport ArrowUpIcon from '../../../../images/big-arrow-up.svg';\nimport {\n  InitializableComponent,\n  InitializeBindings,\n  BindStateToController,\n} from '../../../../utils/initialization-utils';\nimport {NoItemsContainer} from '../../../common/no-items/container';\nimport {MagnifyingGlass} from '../../../common/no-items/magnifying-glass';\nimport {Button} from '../../../common/stencil-button';\nimport {InsightBindings} from '../../atomic-insight-interface/atomic-insight-interface';\n\n/**\n * @internal\n * This component displays all the actions performed by a user around the time they created a case.\n * The actions are grouped into multiple sessions, including the session during which the case was created,\n * the sessions preceding the case creation and the sessions following the case creation.\n *\n * @component\n * @example\n * <AtomicInsightUserActionsTimeline userId={'123'} caseCreationDate={'2024-08-15T10:00:00Z'} />\n *\n */\n@Component({\n  tag: 'atomic-insight-user-actions-timeline',\n  styleUrl: 'atomic-insight-user-actions-timeline.pcss',\n  shadow: true,\n})\nexport class AtomicInsightUserActionsTimeline\n  implements InitializableComponent<InsightBindings>\n{\n  @InitializeBindings() public bindings!: InsightBindings;\n  public userActions!: InsightUserActions;\n\n  @BindStateToController('userActions')\n  @State()\n  public userActionsState!: InsightUserActionsState;\n  public error!: Error;\n\n  /**\n   * The ID of the user whose actions are being displayed. For example in email format \"someone@company.com\".\n   */\n  @Prop() public userId!: string;\n  /**\n   * The date and time when the case was created. For example \"2024-01-01T00:00:00Z\"\n   */\n  @Prop() public ticketCreationDateTime!: string;\n  /**\n   * The names of custom events to exclude.\n   */\n  @Prop() public excludedCustomActions: string[] = [];\n\n  public initialize() {\n    this.userActions = buildInsightUserActions(this.bindings.engine, {\n      options: {\n        ticketCreationDate: this.ticketCreationDateTime,\n        excludedCustomActions: this.excludedCustomActions,\n      },\n    });\n\n    this.userActions.fetchUserActions(this.userId);\n  }\n\n  @State() followingSessionsAreVisible = false;\n  @State() precedingSessionsAreVisible = false;\n\n  private toggleFollowingSessions() {\n    this.followingSessionsAreVisible = !this.followingSessionsAreVisible;\n  }\n\n  private togglePrecedingSessions() {\n    this.precedingSessionsAreVisible = !this.precedingSessionsAreVisible;\n  }\n\n  private renderSessions(\n    sessions: Array<InsightUserSession> | undefined,\n    renderSeparator?: Function,\n    testId?: string\n  ) {\n    return (\n      <div>\n        {sessions?.map(({actions, start}) => [\n          <div class=\"mt-4\">\n            <atomic-insight-user-actions-session\n              startTimestamp={start}\n              userActions={actions}\n              data-testid={testId}\n            ></atomic-insight-user-actions-session>\n          </div>,\n          renderSeparator ? renderSeparator() : null,\n        ])}\n      </div>\n    );\n  }\n\n  private renderToggleFollowingSessionsButton() {\n    const btnClasses = 'flex items-center text-left p-2 text-sm max-w-full';\n    const iconClasses = 'h-3 w-3 mr-1';\n    const label = this.followingSessionsAreVisible\n      ? this.bindings.i18n.t('hide-following-sessions')\n      : this.bindings.i18n.t('show-following-sessions');\n    const icon = this.followingSessionsAreVisible ? ArrowDownIcon : ArrowUpIcon;\n\n    return (\n      <div class=\"flex justify-center p-2\">\n        <Button\n          style=\"text-primary\"\n          part=\"toggle-following-sessions\"\n          class={btnClasses}\n          ariaLabel={label}\n          onClick={this.toggleFollowingSessions.bind(this)}\n        >\n          <atomic-icon\n            part=\"toggle-following-sessions-icon\"\n            class={iconClasses}\n            icon={icon}\n          ></atomic-icon>\n          <span class=\"truncate\">{label}</span>\n        </Button>\n      </div>\n    );\n  }\n\n  private renderTogglePrecedingSessionsButton() {\n    const btnClasses = 'flex items-center text-left p-2 text-sm max-w-full';\n    const iconClasses = 'h-3 w-3 mr-1';\n    const label = this.precedingSessionsAreVisible\n      ? this.bindings.i18n.t('hide-preceding-sessions')\n      : this.bindings.i18n.t('show-preceding-sessions');\n    const icon = this.precedingSessionsAreVisible ? ArrowUpIcon : ArrowDownIcon;\n\n    return (\n      <div class=\"flex justify-center p-2\">\n        <Button\n          style=\"text-primary\"\n          part=\"toggle-preceding-sessions\"\n          class={btnClasses}\n          ariaLabel={label}\n          onClick={this.togglePrecedingSessions.bind(this)}\n        >\n          <atomic-icon\n            part=\"toggle-preceding-sessions-icon\"\n            class={iconClasses}\n            icon={icon}\n          ></atomic-icon>\n          <span class=\"truncate\">{label}</span>\n        </Button>\n      </div>\n    );\n  }\n\n  private renderFollowingSessionsSection() {\n    if (!this.userActionsState.timeline?.followingSessions?.length) {\n      return null;\n    }\n    return [\n      this.renderToggleFollowingSessionsButton(),\n      <div class=\"separator mx-1 rounded\"></div>,\n      this.followingSessionsAreVisible\n        ? this.renderSessions(\n            this.userActionsState.timeline?.followingSessions,\n            () => <div class=\"separator mx-1 mt-4 rounded\"></div>,\n            'following-session'\n          )\n        : null,\n    ];\n  }\n\n  private renderPrecedingSessionsSection() {\n    if (!this.userActionsState.timeline?.precedingSessions?.length) {\n      return null;\n    }\n    return [\n      <div class=\"separator mx-1 mt-4 rounded\"></div>,\n      this.precedingSessionsAreVisible\n        ? this.renderSessions(\n            this.userActionsState.timeline?.precedingSessions,\n            () => <div class=\"separator mx-1 mt-4 rounded\"></div>,\n            'preceding-session'\n          )\n        : null,\n      this.renderTogglePrecedingSessionsButton(),\n    ];\n  }\n\n  private renderTimeline() {\n    return (\n      <div>\n        {this.renderFollowingSessionsSection()}\n        <div class=\"mt-4\">\n          <atomic-insight-user-actions-session\n            // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n            startTimestamp={this.userActionsState.timeline?.session?.start!}\n            // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n            userActions={this.userActionsState?.timeline?.session?.actions!}\n            data-testid=\"active-session\"\n          ></atomic-insight-user-actions-session>\n        </div>\n        {this.renderPrecedingSessionsSection()}\n      </div>\n    );\n  }\n\n  private renderNoUserActionsScreen() {\n    return (\n      <div class=\"my-6 py-3\" data-testid=\"user-actions-error\">\n        <NoItemsContainer>\n          <MagnifyingGlass />\n          <div class=\"my-2 max-w-full text-center text-2xl font-light\">\n            {this.bindings.i18n.t('no-user-actions-available')}\n          </div>\n          <div class=\"text-neutral-dark my-2 text-center text-lg\">\n            {this.bindings.i18n.t('no-user-actions-associated-with-params')}\n          </div>\n        </NoItemsContainer>\n      </div>\n    );\n  }\n\n  render() {\n    const areUserActionsAvailable = this.userActionsState.timeline?.session;\n    const hasError = this.userActionsState.error;\n\n    if (areUserActionsAvailable && !hasError) {\n      return this.renderTimeline();\n    }\n    return this.renderNoUserActionsScreen();\n  }\n}\n"],"mappings":"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","ignoreList":[]}